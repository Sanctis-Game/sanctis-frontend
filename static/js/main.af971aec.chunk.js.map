{"version":3,"sources":["components/Sidebar/Item.tsx","components/Sidebar/items.ts","assets/black-hole-space-svgrepo-com.png","components/Sidebar/Content.tsx","utils/index.ts","components/ConfirmationModal/index.tsx","contexts/ConfirmationModal.tsx","hooks/useConfirmationModal.tsx","constants/index.ts","assets/electric.svg","assets/metal-bar.svg","assets/ore.svg","assets/topaz.svg","hooks/useLocalStorage.ts","contexts/ChainPicker.tsx","hooks/useChainPicker.tsx","hooks/useApprovedObjects.tsx","contexts/Sanctis/index.tsx","hooks/useSanctis.tsx","assets/character.svg","components/Sidebar/CommanderBadge.tsx","components/Sidebar/ColorModeSwitcher.tsx","components/Sidebar/NetworkPicker.tsx","components/Sidebar/Mobile.tsx","components/Sidebar/index.ts","components/Sidebar/Sidebar.tsx","views/Home/Home.tsx","hooks/usePlanet.ts","contexts/Sanctis/types.ts","components/ResourceBadge.tsx","views/Planet/ReservesSection.tsx","hooks/useInfrastructure.tsx","views/Planet/infrastructures/CreateInfrastructureCard.tsx","hooks/usePowerPlant.tsx","views/Planet/infrastructures/PowerPlantCard.tsx","hooks/useResourceProducer.tsx","views/Planet/infrastructures/ResourceProducerCard.tsx","assets/chest.svg","assets/gladius.svg","assets/shield.svg","assets/speedometer.svg","components/ShipStatBadge.tsx","hooks/useShip.tsx","hooks/useSpatioport.tsx","views/Planet/infrastructures/SpatioportCard.tsx","views/Planet/InfrastructuresSection.tsx","hooks/useFleets.tsx","views/Planet/fleets/FleetCard.tsx","views/Planet/FleetsSection.tsx","views/Planet/Planet.tsx","views/Commanders/CommanderCard.tsx","views/Commanders/CreateCommanderCard.tsx","views/Commanders/Commanders.tsx","hooks/useApproval.ts","views/Commander/ColonizeCard.tsx","views/Commander/PlanetCard.tsx","views/Commander/Commander.tsx","hooks/useCommander.ts","views/Documentation.tsx","views/Planets.tsx","views/Fleets.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["NavItem","icon","url","children","rest","href","style","textDecoration","_focus","boxShadow","align","p","mx","borderRadius","role","cursor","_hover","bg","color","mr","fontSize","_groupHover","as","LinkItems","name","FiHome","FiTrendingUp","FiCompass","SiStarship","FiBook","SidebarContent","onClose","transition","useColorModeValue","borderRight","borderRightColor","w","base","md","pos","h","alignItems","justifyContent","src","logo","rounded","maxW","fontFamily","fontWeight","display","onClick","map","link","planetIdToCoordinate","planetId","num","BigNumber","from","bits80","x","and","y","shr","z","ConfirmationModal","isOpen","spacing","my","size","thickness","ConfirmationModalContext","createContext","confirming","open","Promise","ChainPickerProvider","useDisclosure","onOpen","onCloseModal","useCallback","action","a","Provider","value","useConfirmationModal","useContext","supportedNetworks","rpcUrl","chainId","deployedAddresses","sanctis","credits","parliament","commanders","planets","fleets","humans","energy","iron","deuterium","silicon","ironMines","siliconFurnaces","heavyWaterPlants","solarPanels","fusionReactors","spatioports","transporters","scouts","destroyers","plundering","resourceWrapper","useLocalStorage","key","initialValue","useState","item","window","localStorage","getItem","JSON","parse","error","console","log","storedValue","setStoredValue","setValue","valueToStore","Function","setItem","stringify","useEffect","ChainPickerContext","setNetwork","network","useChainPicker","useApprovedObjects","races","address","resources","metalBar","ore","infrastructures","description","ships","SanctisContext","setCurrentCommander","commander","fetchCommander","fetchPlanet","createCommander","colonizePlanet","SanctisProvider","toast","useToast","approvedObjects","useWallet","ethereum","account","contracts","useMemo","SanctisInterface","utils","Interface","SanctisABI","abi","CommandersInterface","CommandersABI","CreditsInterface","CreditsABI","PlanetsInterface","PlanetsABI","ResourceInterface","ResourceABI","PowerPlantsInterface","PowerPlantsABI","ResourceProducerInterface","ResourceProducerABI","ShipInterface","ShipABI","signer","providers","Web3Provider","getSigner","Contract","ownedCredits","setOwnedCredits","ownedCommanders","setOwnedCommanders","setCommanders","undefined","memorizedCommander","setMemorizedCommander","currentCommander","setCurrentCommanderState","setPlanets","colonizationCost","setColonizationCost","fetchColonizationCost","fetchOwnedCredits","Number","ethers","balanceOf","formatEther","commanderId","race","empireSize","toNumber","all","Array","fill","_","i","commanderPlanetByIndex","toString","commanderPlanets","id","find","e","old","fetchOwnedCommanders","commandersBalance","length","tokenOfOwnerByIndex","filter","Boolean","includes","planet","status","ruler","humidity","resource","contract","reserve","amount","reserves","infrastructure","InfrastructureInterface","InfrastructureABI","level","create","result","wait","title","message","shl","add","colonize","useSanctis","CommanderBadge","setAutoconnect","reset","handleReset","Date","now","py","commanderIcon","ml","substring","numeral","format","borderColor","ColorModeSwitcher","props","toggleColorMode","useColorMode","text","SwitchIcon","FaMoon","FaSun","variant","marginLeft","NetworkPicker","MenuButton","validConnectors","MobileNav","connect","openModal","autoconnect","connector","setConnector","handleChooseWallet","handleConnect","px","height","borderBottomWidth","borderBottomColor","leftIcon","Object","values","isFullWidth","Sidebar","minH","autoFocus","placement","returnFocusOnClose","onOverlayClick","Commanders","useCommanders","background","textAlign","Link","usePlanet","setPlanet","fetch","FleetStatus","PlanetStatus","ResourceBadge","bgColor","iconSize","width","content","shadow","direction","maxH","minW","label","ReservesSection","m","margin","mb","useInfrastructure","loadedInfrastructure","setLoadedInfrastructure","isFetching","setIsFetching","costs","costsResources","nextCosts","nextUpgrade","getAddress","upgrade","CreateInfrastuctureCard","choices","choice","setChoice","handleSelect","target","handleCreate","onChange","mt","colorScheme","usePowerPlant","baseInfra","loadedPlant","setLoadedPlant","PowerPlantInterface","PowerPlantABI","currentProduction","nextProduction","powerPlant","PowerPlantCard","getBlockNumber","justify","cost","disabled","useResourceProducer","loadedProducer","setLoadedProducer","lastHarvest","producedResources","productionPerBlock","harvest","data","producer","ResourceProducerCard","prod","mul","Math","max","ShipStatBadge","type","speed","offense","defense","capacity","stroke","useShip","ship","loadedShip","setLoadedShip","unitCosts","offensivePower","defensivePower","useSpatioport","spatioport","setSpatioport","SpatioportInterface","SpatioportABI","currentDiscount","nextDiscount","discountFactor","build","quantity","SpatioportCard","setQuantity","placeholder","InfrastructuresSection","infrastructureCards","card","resourceProducers","powerPlants","useFleets","approvedShips","approvedResources","setFleets","FleetInterface","FleetsABI","fleetId","fleet","fromPlanetId","toPlanetId","totalSpeed","totalOffensivePower","totalDefensivePower","arrivalBlock","fromPlanet","toPlanet","fleetStatus","Preparing","Orbitting","Travelling","shipsInFleet","resourcesInFleet","fetchPlanetFleets","fleetsOnPlanet","fleetOnPlanetByIndex","createFleet","round","random","move","to","moveFleet","addToFleet","removeFromFleet","putInOrbit","land","FleetCard","removeChoice","setRemoveChoice","removeQuantity","setRemoveQuantity","gt","entries","border","min","FleetsSection","Planet","useParams","sections","rightIcon","allowMultiple","allowToggle","CommanderCard","alignContent","emptyColor","CreateCommanderCard","setName","setRace","handleName","match","useApproval","tokenAddress","spenderAddress","ERC20Interface","ERC20ABI","allowance","setAllowance","isApproving","setIsApproving","isApproved","setIsApproved","handleApprove","approve","pow","sub","fetchAllowance","onApprove","ColonizeCard","colonizer","setX","setY","setZ","div","isLoading","PlanetCard","Commander","setCommander","useCommander","Documentation","Planets","Fleets","WalletProvider","Providers","ChainPicker","App","path","element","Home","reportWebVitals","onPerfEntry","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.af971aec.chunk.js","sourcesContent":["import React from 'react';\nimport {\n  Flex,\n  Icon,\n  Link,\n  FlexProps,\n} from '@chakra-ui/react'\nimport { IconType } from 'react-icons';\nimport { ReactText } from 'react';\n\ninterface NavItemProps extends FlexProps {\n  icon: IconType;\n  url: string;\n  children: ReactText;\n}\nexport const NavItem = ({ icon, url, children, ...rest }: NavItemProps) => {\n  return (\n    <Link href={`#${url}`} style={{ textDecoration: 'none' }} _focus={{ boxShadow: 'none' }}>\n      <Flex\n        align=\"center\"\n        p=\"4\"\n        mx=\"4\"\n        borderRadius=\"lg\"\n        role=\"group\"\n        cursor=\"pointer\"\n        _hover={{\n          bg: 'cyan.400',\n          color: 'white',\n        }}\n        {...rest}>\n        {icon && (\n          <Icon\n            mr=\"4\"\n            fontSize=\"16\"\n            _groupHover={{\n              color: 'white',\n            }}\n            as={icon}\n          />\n        )}\n        {children}\n      </Flex>\n    </Link>\n  );\n};","import { IconType } from \"react-icons\";\nimport { FiCompass, FiHome, FiTrendingUp, FiBook } from \"react-icons/fi\";\nimport { SiStarship } from \"react-icons/si\";\n\ninterface LinkItemProps {\n  name: string;\n  icon: IconType;\n  url: string;\n}\nexport const LinkItems: Array<LinkItemProps> = [\n  { name: \"Home\", icon: FiHome, url: \"/\" },\n  { name: \"Commanders\", icon: FiTrendingUp, url: \"/commanders\" },\n  { name: \"Planets\", icon: FiCompass, url: \"/planets\" },\n  { name: \"Fleets\", icon: SiStarship, url: \"/fleets\" },\n  { name: \"Documentation\", icon: FiBook, url: \"/documentation\" },\n];\n","export default __webpack_public_path__ + \"static/media/black-hole-space-svgrepo-com.e831c469.png\";","import React from \"react\";\nimport { Box, CloseButton, Flex, useColorModeValue, Text, BoxProps, Image } from \"@chakra-ui/react\";\nimport { NavItem } from \"./Item\";\nimport { LinkItems } from \"./items\";\nimport logo from \"../../assets/black-hole-space-svgrepo-com.png\";\n\nexport interface SidebarProps extends BoxProps {\n  onClose: () => void;\n}\nexport const SidebarContent = ({ onClose, ...rest }: SidebarProps) => {\n  return (\n    <Box\n      transition=\"3s ease\"\n      bg={useColorModeValue(\"white\", \"gray.900\")}\n      borderRight=\"1px\"\n      borderRightColor={useColorModeValue(\"gray.200\", \"gray.700\")}\n      w={{ base: \"full\", md: 60 }}\n      pos=\"fixed\"\n      h=\"full\"\n      {...rest}\n    >\n      <Flex h=\"20\" alignItems=\"center\" mx=\"8\" justifyContent=\"space-between\">\n        <Image src={logo} rounded=\"full\" maxW=\"48px\" />\n        <Text fontSize=\"2xl\" fontFamily=\"monospace\" fontWeight=\"bold\">\n          Sanctis\n        </Text>\n        <CloseButton display={{ base: \"flex\", md: \"none\" }} onClick={onClose} />\n      </Flex>\n      {LinkItems.map((link) => (\n        <NavItem key={link.name} icon={link.icon} url={link.url}>\n          {link.name}\n        </NavItem>\n      ))}\n    </Box>\n  );\n};\n","import { BigNumber } from \"ethers\";\n\nexport const shortAddress = (address: string | undefined): string => {\n  if (!address) return \"???\";\n  return (\n    address.substring(0, 4) +\n    \"...\" +\n    address.substring(address.length - 4, address.length)\n  );\n};\n\nexport const planetIdToCoordinate = (planetId: string) => {\n  const num = BigNumber.from(planetId)\n  const bits80 = BigNumber.from(\"0xFFFFF\")\n  const x = num.and(bits80)\n  const y = num.shr(80).and(bits80)\n  const z = num.shr(160).and(bits80)\n  return `(X=${x}; Y=${y}; Z=${z})`\n}","import {\n  VStack,\n  Image,\n  Modal,\n  ModalOverlay,\n  ModalContent,\n  ModalHeader,\n  ModalBody,\n  ModalCloseButton,\n  Spinner,\n} from \"@chakra-ui/react\";\n\ninterface ConfirmationModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n}\n\nconst ConfirmationModal: React.FC<ConfirmationModalProps> = ({\n  isOpen,\n  onClose\n}) => {\n  return (\n    <Modal isOpen={isOpen} onClose={onClose}>\n      <ModalOverlay />\n      <ModalContent maxW=\"350px\">\n        <ModalHeader>Confirming transaction...</ModalHeader>\n        <ModalCloseButton />\n        <ModalBody>\n          <VStack spacing=\"8px\" my={2}>\n            <Image src={\"ojiji\"} w=\"100%\" h=\"100%\" />\n            <Spinner size=\"xl\" thickness={\"8px\"} />\n          </VStack>\n        </ModalBody>\n      </ModalContent>\n    </Modal>\n  );\n};\n\nexport default ConfirmationModal;\n","import { useDisclosure } from \"@chakra-ui/react\";\nimport ConfirmationModal from \"components/ConfirmationModal\";\nimport React, { createContext, useCallback } from \"react\";\n\nexport interface ConfirmationModalContextValues {\n  confirming: boolean\n  open: (action: () => Promise<void>, onClose?: () => Promise<void>) => Promise<void>\n}\n\nexport const ConfirmationModalContext = createContext<ConfirmationModalContextValues>({\n  confirming: false,\n  open: () => new Promise(() => {})\n})\n\nexport const ChainPickerProvider: React.FC = ({ children }) => {\n  const { isOpen: confirming, onOpen, onClose: onCloseModal } = useDisclosure();\n\n  const open = useCallback(async (action: () => Promise<void>, onClose?: () => Promise<void>) => {\n    onOpen()\n    await action()\n    if (onClose) await onClose()\n    onCloseModal()\n  }, [onOpen, onCloseModal])\n\n  return (\n    <ConfirmationModalContext.Provider\n      value={{ confirming, open }}\n    >\n      {children}\n      <ConfirmationModal isOpen={confirming} onClose={onCloseModal} />\n    </ConfirmationModalContext.Provider>\n  );\n};\n\nexport default ChainPickerProvider;\n","import { useContext } from \"react\";\n\nimport { ConfirmationModalContext } from \"../contexts/ConfirmationModal\";\n\nconst useConfirmationModal = () => {\n  return {\n    ...useContext(ConfirmationModalContext),\n  };\n};\n\nexport default useConfirmationModal;\n","export interface Network {\n  name: string;\n  rpcUrl: string;\n  chainId: number;\n}\n\nexport const supportedNetworks: Network[] = [\n  {\n    name: \"Fantom Testnet\",\n    rpcUrl: \"https://xapi.testnet.fantom.network/lachesis\",\n    chainId: 4002,\n  },\n  // {\n  //   name: \"Fantom Mainnet\",\n  //   rpcUrl: \"https://rpc.fantom.network/\",\n  //   chainId: 250,\n  // },\n];\n\nexport const deployedAddresses: { [id: number]: { [contract: string]: string } } = {\n  4002: {\n    sanctis: \"0x82796af064346a29d5a27057d16a28be0c4b3316\",\n    credits: \"0x9abbbddbd5e6bf2697c4eb8109e7bd4335e40bb1\",\n    parliament: \"0xacec97ae37b3fd23d699251a341e902689e1c238\",\n    commanders: \"0x3032804c781d518f554b4e5e0e179103b15eab34\",\n    planets: \"0x2620ae485267a456d5fe872bef584b4a52c243e2\",\n    fleets: \"0x08fd27f8dd1e2b28b2ce99572e0699c0364f0d29\",\n    humans: \"0x989c5d11a3607cd3d5663dd2c89f9d70e63bbf9c\",\n    energy: \"0x9023550b35e8438734d6f541648ea036a46033d4\",\n    iron: \"0x84b288f20389aa710b7ff0232e48c4608b731fb8\",\n    deuterium: \"0xdd7e06e51a748acacd6574d26bb73d027667f08c\",\n    silicon: \"0x7a19b32208ceaa7567fe412af85e05403021cef8\",\n    ironMines: \"0x5571c77a08c57548eca2f619e192a2eeebdbde9b\",\n    siliconFurnaces: \"0xefdfe52bd8b7d30a1a8bd969f64e635b1fc82897\",\n    heavyWaterPlants: \"0x5c40018bdc649998029b549ee93e05bf82b9cfce\",\n    solarPanels: \"0x0d911b301015e69754e1dea19255e65890f362df\",\n    fusionReactors: \"0x8c36ccff8265a3e8a5fe4623903fa1284ef26beb\",\n    spatioports: \"0xa569f91ab1038416239635ce84917e8a2c2b1f68\",\n    transporters: \"0x911361700250b3a17b56fd0b874ba3799b1f4bc3\",\n    scouts: \"0xfdb621612cae882d3de41f46de3da9e9c8f81da6\",\n    destroyers: \"0xceacea7a31c308f082cf7cb0273d6b22948bfa22\",\n    plundering: \"0x8febd06842530cbc196178630a6d3708f886b075\",\n    resourceWrapper: \"0x43d37eb9f543bc45dab093ecae13f899e637ceec\",\n  },\n};\n\nexport default deployedAddresses;\n","export default __webpack_public_path__ + \"static/media/electric.711b3b48.svg\";","export default __webpack_public_path__ + \"static/media/metal-bar.7f83f5c0.svg\";","export default __webpack_public_path__ + \"static/media/ore.4eebbfb5.svg\";","export default __webpack_public_path__ + \"static/media/topaz.a9cfb39d.svg\";","import { useCallback, useEffect, useState } from \"react\";\n\nexport default function useLocalStorage<T>(key: string, initialValue: T) {\n  // State to store our value\n  // Pass initial state function to useState so logic is only executed once\n  const [storedValue, setStoredValue] = useState<T>(() => {\n    try {\n      // Get from local storage by key\n      const item = window.localStorage.getItem(key);\n      // Parse stored json or if none return initialValue\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      // If error also return initialValue\n      console.log(error);\n      return initialValue;\n    }\n  });\n\n  // Return a wrapped version of useState's setter function that ...\n  // ... persists the new value to localStorage.\n  const setValue = useCallback((value: T | ((value: T) => T)) => {\n    try {\n      // Allow value to be a function so we have same API as useState\n      const valueToStore = value instanceof Function ? value(storedValue) : value;\n      // Save state\n      setStoredValue(valueToStore);\n      // Save to local storage\n      window.localStorage.setItem(key, JSON.stringify(valueToStore));\n    } catch (error) {\n      // A more advanced implementation would handle the error case\n      console.log(error);\n    }\n  }, [key, storedValue]);\n\n  // Update the stored value if the key is updated\n  useEffect(() => {\n    try {\n      // Get from local storage by key\n      const item = window.localStorage.getItem(key);\n      // Parse stored json or if none return initialValue\n      setStoredValue(item ? JSON.parse(item) : initialValue);\n    } catch (error) {\n      // If error also return initialValue\n      console.log(error);\n      setStoredValue(initialValue);\n    }\n  }, [key, initialValue])\n\n  return [storedValue, setValue] as [T, (value: T | ((value: T) => T)) => void];\n}","import React, { createContext } from \"react\";\n\nimport { supportedNetworks, Network } from \"../constants\";\nimport useLocalStorage from \"../hooks/useLocalStorage\";\n\nexport interface ChainPickerContextValues extends Network {\n  setNetwork: (network: Network) => void\n}\n\nexport const ChainPickerContext = createContext<ChainPickerContextValues>({\n  ...supportedNetworks[0],\n  setNetwork: () => {}\n})\n\nexport const ChainPickerProvider: React.FC = ({ children }) => {\n  const [network, setNetwork] = useLocalStorage<Network>(\"network\", supportedNetworks[0])\n\n  return (\n    <ChainPickerContext.Provider\n      value={{ ...network, setNetwork }}\n    >\n      {children}\n    </ChainPickerContext.Provider>\n  );\n};\n\nexport default ChainPickerProvider;\n","import { useContext } from \"react\";\n\nimport { ChainPickerContext } from \"../contexts/ChainPicker\";\n\nconst useChainPicker = () => {\n  return {\n    ...useContext(ChainPickerContext),\n  };\n};\n\nexport default useChainPicker;\n","import energy from '../assets/electric.svg'\nimport metalBar from '../assets/metal-bar.svg'\nimport ore from '../assets/ore.svg'\nimport deuterium from '../assets/topaz.svg'\nimport deployedAddresses from '../constants'\nimport { Infrastructure, Race, Resource, Ship } from '../contexts/Sanctis/types'\nimport useChainPicker from './useChainPicker'\n\nconst useApprovedObjects = () => {\n  const { chainId } = useChainPicker();\n\n  const races: Race[] = [{ name: \"Human\", address: deployedAddresses[chainId].humans }];\n  const resources: Resource[] = [\n    { name: \"Energy\", address: deployedAddresses[chainId].energy, icon: energy },\n    { name: \"Iron\", address: deployedAddresses[chainId].iron, icon: metalBar },\n    { name: \"Silicon\", address: deployedAddresses[chainId].silicon, icon: ore },\n    { name: \"Deuterium\", address: deployedAddresses[chainId].deuterium, icon: deuterium },\n  ];\n  const infrastructures: Infrastructure[] = [\n    {\n      name: \"Iron mines\",\n      description: \"It extracts a constant rate of iron.\",\n      address: deployedAddresses[chainId].ironMines,\n    },\n    {\n      name: \"Silicon Furnaces\",\n      description: \"It produces silicon at a constant rate.\",\n      address: deployedAddresses[chainId].siliconFurnaces,\n    },\n    {\n      name: \"Heavy Water Plants\",\n      description: \"Used to concentrate deuterium.\",\n      address: deployedAddresses[chainId].heavyWaterPlants,\n    },\n    {\n      name: \"Solar Panels\",\n      description: \"Harvests the energy of the nearby star\",\n      address: deployedAddresses[chainId].solarPanels,\n    },\n    {\n      name: \"Fusion Reactors\",\n      description: \"Fuses deuterium isotopes to create energy.\",\n      address: deployedAddresses[chainId].fusionReactors,\n    },\n    {\n      name: \"Spatioports\",\n      description: \"A building necessary to build ships\",\n      address: deployedAddresses[chainId].spatioports,\n    },\n  ];\n  const ships: Ship[] = [\n    {\n      name: \"Transporters\",\n      description: \"Small ships used to transports resources around.\",\n      address: deployedAddresses[chainId].transporters,\n    },\n    { name: \"Scouts\", description: \"Fast reconnaissance units.\", address: deployedAddresses[chainId].scouts },\n    {\n      name: \"Destroyers\",\n      description: \"Heavily armed ships used to take down ennemy's fleets\",\n      address: deployedAddresses[chainId].destroyers,\n    },\n  ];\n\n  return {\n    races,\n    resources,\n    infrastructures,\n    ships,\n  };\n};\n\nexport default useApprovedObjects;\n","import { useWallet } from \"@binance-chain/bsc-use-wallet\";\nimport { useToast } from \"@chakra-ui/react\";\nimport { ExternalProvider } from \"@ethersproject/providers\";\nimport { BigNumber, Contract, ethers, providers, utils } from \"ethers\";\nimport useConfirmationModal from \"hooks/useConfirmationModal\";\nimport React, { createContext, useCallback, useEffect, useMemo, useState } from \"react\";\n\nimport { deployedAddresses } from \"../../constants\";\nimport CommandersABI from \"../../constants/contracts/Commanders.sol/Commanders.json\";\nimport InfrastructureABI from \"../../constants/contracts/IInfrastructure.sol/IInfrastructure.json\";\nimport PowerPlantsABI from \"../../constants/contracts/IPowerPlants.sol/IPowerPlants.json\";\nimport ResourceABI from \"../../constants/contracts/IResource.sol/IResource.json\";\nimport ResourceProducerABI from \"../../constants/contracts/IResourceProducer.sol/IResourceProducer.json\";\nimport ShipABI from \"../../constants/contracts/IShip.sol/IShip.json\";\nimport PlanetsABI from \"../../constants/contracts/Planets.sol/Planets.json\";\nimport SanctisABI from \"../../constants/contracts/Sanctis.sol/Sanctis.json\";\nimport CreditsABI from \"../../constants/contracts/SpaceCredits.sol/SpaceCredits.json\";\nimport useApprovedObjects from \"../../hooks/useApprovedObjects\";\nimport useChainPicker from \"../../hooks/useChainPicker\";\nimport useLocalStorage from \"../../hooks/useLocalStorage\";\nimport { Commander, Planet, Race, Reserve } from \"./types\";\n\nexport interface SanctisContextValues {\n  colonizationCost?: BigNumber;\n  ownedCredits?: number;\n  ownedCommanders?: Commander[];\n  currentCommander?: Commander;\n  commanders: { [commanderId: string]: Commander };\n  planets: { [planetId: string]: Planet };\n  setCurrentCommander: (commander?: Commander) => void;\n  fetchCommander: (commanderId: string) => Promise<Commander | undefined | null>;\n  fetchPlanet: (planetId: string) => Promise<Planet | undefined | null>;\n  createCommander: (name: string, race: Race) => Promise<void>;\n  colonizePlanet: (commander: Commander, x: number, y: number, z: number) => Promise<void>;\n}\n\nexport const SanctisContext = createContext<SanctisContextValues>({\n  commanders: {},\n  planets: {},\n  setCurrentCommander: (commander?: Commander) => {},\n  fetchCommander: () => new Promise(() => {}),\n  fetchPlanet: () => new Promise(() => {}),\n  createCommander: () => new Promise(() => {}),\n  colonizePlanet: () => new Promise(() => {}),\n});\n\nexport const SanctisProvider: React.FC = ({ children }) => {\n  const toast = useToast();\n  const { open } = useConfirmationModal();\n  const { chainId } = useChainPicker();\n  const approvedObjects = useApprovedObjects();\n  const { ethereum, account } = useWallet<ExternalProvider>();\n\n  const contracts = useMemo(() => {\n    if (!ethereum) return;\n    const SanctisInterface = new utils.Interface(SanctisABI.abi);\n    const CommandersInterface = new utils.Interface(CommandersABI.abi);\n    const CreditsInterface = new utils.Interface(CreditsABI.abi);\n    const PlanetsInterface = new utils.Interface(PlanetsABI.abi);\n    const ResourceInterface = new utils.Interface(ResourceABI.abi);\n    const PowerPlantsInterface = new utils.Interface(PowerPlantsABI.abi);\n    const ResourceProducerInterface = new utils.Interface(ResourceProducerABI.abi);\n    const ShipInterface = new utils.Interface(ShipABI.abi);\n    const signer = new providers.Web3Provider(ethereum).getSigner();\n    return {\n      sanctis: new Contract(deployedAddresses[chainId].sanctis, SanctisInterface, signer),\n      commanders: new Contract(deployedAddresses[chainId].commanders, CommandersInterface, signer),\n      credits: new Contract(deployedAddresses[chainId].credits, CreditsInterface, signer),\n      planets: new Contract(deployedAddresses[chainId].planets, PlanetsInterface, signer),\n      energy: new Contract(deployedAddresses[chainId].energy, ResourceInterface, signer),\n      iron: new Contract(deployedAddresses[chainId].iron, ResourceInterface, signer),\n      silicon: new Contract(deployedAddresses[chainId].silicon, ResourceInterface, signer),\n      deuterium: new Contract(deployedAddresses[chainId].deuterium, ResourceInterface, signer),\n      solarPanels: new Contract(deployedAddresses[chainId].solarPanels, PowerPlantsInterface, signer),\n      fusionReactors: new Contract(deployedAddresses[chainId].fusionReactors, PowerPlantsInterface, signer),\n      ironMines: new Contract(deployedAddresses[chainId].ironMines, ResourceProducerInterface, signer),\n      siliconFurnaces: new Contract(deployedAddresses[chainId].siliconFurnaces, ResourceProducerInterface, signer),\n      heavyWaterPlants: new Contract(deployedAddresses[chainId].heavyWaterPlants, ResourceProducerInterface, signer),\n      transporters: new Contract(deployedAddresses[chainId].transporters, ShipInterface, signer),\n      scouts: new Contract(deployedAddresses[chainId].scouts, ShipInterface, signer),\n      destroyers: new Contract(deployedAddresses[chainId].destroyers, ShipInterface, signer),\n    };\n  }, [chainId, ethereum]);\n\n  const [ownedCredits, setOwnedCredits] = useState<number>();\n  const [ownedCommanders, setOwnedCommanders] = useState<Commander[]>();\n  const [commanders, setCommanders] = useState<{ [commanderId: string]: Commander }>({});\n  const [memorizedCommander, setMemorizedCommander] = useLocalStorage<Commander | undefined>(\n    \"memorized_commander\",\n    undefined\n  );\n  const [currentCommander, setCurrentCommanderState] = useState<Commander | undefined>(memorizedCommander);\n  const [planets, setPlanets] = useState<{ [planetId: string]: Planet }>({});\n  const [colonizationCost, setColonizationCost] = useState<BigNumber>();\n\n  const setCurrentCommander = useCallback(\n    (commander?: Commander) => {\n      setMemorizedCommander(commander);\n      setCurrentCommanderState(commander);\n    },\n    [setMemorizedCommander, setCurrentCommanderState]\n  );\n\n  const fetchColonizationCost = useCallback(async () => {\n    if (!contracts) return;\n    setColonizationCost(await contracts.planets.colonizationCost());\n  }, [contracts]);\n\n  useEffect(() => {\n    fetchColonizationCost();\n  }, [fetchColonizationCost]);\n\n  const fetchOwnedCredits = useCallback(async () => {\n    if (!contracts || !account) return;\n    setOwnedCredits(Number(ethers.utils.formatEther(await contracts.credits.balanceOf(account))));\n  }, [contracts, account]);\n\n  useEffect(() => {\n    fetchOwnedCredits();\n  }, [fetchOwnedCredits]);\n\n  const fetchCommander = useCallback(\n    async (commanderId: string) => {\n      if (!contracts) return;\n\n      try {\n        const [name, race] = await contracts.commanders.commander(commanderId);\n        const empireSize = (await contracts.planets.empireSize(commanderId)).toNumber();\n        // TODO: Fetch only planet IDs\n        const commanderPlanets = await Promise.all(\n          Array(empireSize)\n            .fill(0)\n            .map(async (_, i) => (await contracts.planets.commanderPlanetByIndex(commanderId, i)).toString())\n        );\n        const commander: Commander = {\n          id: commanderId,\n          name,\n          race: approvedObjects.races.find((e) => e.address === race),\n          planets: commanderPlanets,\n        };\n        setCommanders((old) => {\n          old[commanderId] = commander;\n          return old;\n        });\n        return commander;\n      } catch (err) {\n        console.log(\"Error fetching commander:\", err);\n        return null;\n      }\n    },\n    [approvedObjects, contracts]\n  );\n\n  const fetchOwnedCommanders = useCallback(async () => {\n    if (!contracts || !account) return;\n\n    const commandersBalance = (await contracts.commanders.balanceOf(account)).toNumber();\n\n    if (ownedCommanders?.length === commandersBalance) return;\n\n    const commanders = (\n      await Promise.all(\n        Array(commandersBalance)\n          .fill(0)\n          .map(\n            async (_, i) =>\n              (await fetchCommander((await contracts.commanders.tokenOfOwnerByIndex(account, i)).toString()))!\n          )\n      )\n    ).filter(Boolean);\n\n    if (memorizedCommander && commanders.includes(memorizedCommander)) {\n      setCurrentCommanderState(memorizedCommander);\n    }\n    setOwnedCommanders(commanders);\n  }, [account, contracts, ownedCommanders, memorizedCommander, fetchCommander]);\n\n  useEffect(() => {\n    fetchOwnedCommanders();\n  }, [fetchOwnedCommanders]);\n\n  const fetchPlanet = useCallback(\n    async (planetId: string) => {\n      if (!contracts) return;\n      try {\n        const { status, ruler, x, y, z, humidity } = await contracts.planets.planet(planetId);\n        const reserves: Reserve[] = await Promise.all(\n          approvedObjects.resources.map(async (resource) => {\n            const ResourceInterface = new utils.Interface(ResourceABI.abi);\n            const contract = new Contract(\n              resource.address,\n              ResourceInterface,\n              new providers.Web3Provider(ethereum).getSigner()\n            );\n            return {\n              resource,\n              amount: await contract.reserve(planetId),\n            };\n          })\n        );\n        const infrastructures = await Promise.all(\n          approvedObjects.infrastructures.map(async (infrastructure) => {\n            const InfrastructureInterface = new utils.Interface(InfrastructureABI.abi);\n            const contract = new Contract(\n              infrastructure.address,\n              InfrastructureInterface,\n              new providers.Web3Provider(ethereum).getSigner()\n            );\n            return {\n              ...infrastructure,\n              level: (await contract.level(planetId)).toNumber(),\n            };\n          })\n        );\n        const planet = {\n          id: planetId,\n          status: status,\n          ruler: ruler.toNumber(),\n          x: x.toNumber(),\n          y: y.toNumber(),\n          z: z.toNumber(),\n          humidity: humidity,\n          infrastructures: infrastructures,\n          reserves: reserves,\n        };\n        setPlanets((old) => {\n          old[planetId] = planet;\n          return old;\n        });\n        return planet;\n      } catch (err) {\n        console.log(\"Error fetching planet:\", err);\n        return null;\n      }\n    },\n    [approvedObjects, contracts, ethereum]\n  );\n\n  const createCommander = useCallback(\n    async (name: string, race: Race) => {\n      if (!contracts) return;\n      open(async () => {\n        try {\n          const result = await contracts.commanders.create(name, race.address);\n          await result.wait();\n          await fetchOwnedCommanders();\n          toast({ status: \"success\", title: \"Created\", description: `The world awaits your order, Commander ${name}` });\n        } catch (err: any) {\n          toast({ status: \"error\", title: \"Error\", description: `Failed creation: ${err.message}` });\n        }\n      });\n    },\n    [contracts, open, toast, fetchOwnedCommanders]\n  );\n\n  const colonizePlanet = useCallback(\n    async (commander: Commander, x: number, y: number, z: number) => {\n      if (!contracts) return;\n\n      open(async () => {\n        try {\n          const planetId = BigNumber.from(z).shl(80).add(y).shl(80).add(x);\n          const result = await contracts.planets.colonize(commander.id, planetId);\n          await result.wait();\n          await fetchPlanet(planetId.toString());\n          await fetchOwnedCredits();\n          await fetchCommander(commander.id);\n          toast({ status: \"success\", title: \"Created\", description: `A new planet has been colonized` });\n        } catch (err: any) {\n          console.log(err);\n          toast({ status: \"error\", title: \"Error\", description: `Failed colonization: ${err.message}` });\n        }\n      });\n    },\n    [contracts, open, toast, fetchCommander, fetchPlanet, fetchOwnedCredits]\n  );\n\n  return (\n    <SanctisContext.Provider\n      value={{\n        colonizationCost,\n        ownedCredits,\n        ownedCommanders,\n        commanders,\n        planets,\n        currentCommander,\n        setCurrentCommander,\n        fetchCommander,\n        fetchPlanet,\n        createCommander,\n        colonizePlanet,\n      }}\n    >\n      {children}\n    </SanctisContext.Provider>\n  );\n};\n\nexport default SanctisProvider;\n","import { useContext } from \"react\";\n\nimport { SanctisContext } from \"../contexts/Sanctis\";\n\nconst useSanctis = () => {\n  return {\n    ...useContext(SanctisContext),\n  };\n};\n\nexport default useSanctis;\n","export default __webpack_public_path__ + \"static/media/character.977d0c9e.svg\";","import React, { useCallback } from \"react\";\nimport {\n  Avatar,\n  Box,\n  Flex,\n  HStack,\n  VStack,\n  useColorModeValue,\n  Text,\n  Menu,\n  MenuButton,\n  MenuDivider,\n  MenuItem,\n  MenuList,\n  MenuGroup,\n} from \"@chakra-ui/react\";\nimport { FiChevronDown } from \"react-icons/fi\";\nimport { useWallet } from \"@binance-chain/bsc-use-wallet\";\nimport { shortAddress } from \"utils\";\nimport numeral from \"numeral\";\nimport useSanctis from \"hooks/useSanctis\";\n\nimport commanderIcon from \"../../assets/character.svg\";\n\nexport const CommanderBadge: React.FC<{ setAutoconnect: (date: number) => void }> = ({ setAutoconnect }) => {\n  const { reset, account } = useWallet();\n  const { ownedCredits, ownedCommanders, currentCommander, setCurrentCommander } = useSanctis();\n\n  const handleReset = useCallback(() => {\n    setAutoconnect(Date.now());\n    setCurrentCommander(undefined);\n    reset();\n  }, [setAutoconnect, reset, setCurrentCommander]);\n\n  return (\n    <Flex alignItems={\"center\"}>\n      <Menu>\n        <MenuButton py={2} transition=\"all 0.3s\" _focus={{ boxShadow: \"none\" }}>\n          <HStack>\n            <Avatar size={\"sm\"} src={commanderIcon} />\n            <VStack display={{ base: \"none\", md: \"flex\" }} alignItems=\"flex-start\" spacing=\"1px\" ml=\"2\">\n              <Text fontSize=\"sm\">{currentCommander ? currentCommander.name : shortAddress(account || \"\")}</Text>\n              <Text fontSize=\"xs\" color=\"gray.600\">\n                {ownedCredits ? numeral(ownedCredits).format(\"0.00aa\") : \"???\"} $CREDS\n              </Text>\n            </VStack>\n            <Box display={{ base: \"none\", md: \"flex\" }}>\n              <FiChevronDown />\n            </Box>\n          </HStack>\n        </MenuButton>\n        <MenuList bg={useColorModeValue(\"white\", \"gray.900\")} borderColor={useColorModeValue(\"gray.200\", \"gray.700\")}>\n          <MenuGroup title=\"Commanders\">\n            {[\n              ownedCommanders &&\n                ownedCommanders.map((e) => (\n                  <MenuItem key={e.name || \"\" + e.id} onClick={() => setCurrentCommander(e)}>\n                    {e.name}\n                  </MenuItem>\n                )),\n              <MenuItem key={\"create\"}>Create a commander</MenuItem>,\n            ]}\n          </MenuGroup>\n          <MenuDivider />\n          <MenuGroup title=\"Wallet\">\n            <MenuItem onClick={handleReset}>Disconnect</MenuItem>\n          </MenuGroup>\n        </MenuList>\n      </Menu>\n    </Flex>\n  );\n};\n","import * as React from \"react\"\nimport {\n  useColorMode,\n  useColorModeValue,\n  IconButton,\n  IconButtonProps,\n} from \"@chakra-ui/react\"\nimport { FaMoon, FaSun } from \"react-icons/fa\"\n\ntype ColorModeSwitcherProps = Omit<IconButtonProps, \"aria-label\">\n\nexport const ColorModeSwitcher: React.FC<ColorModeSwitcherProps> = (props) => {\n  const { toggleColorMode } = useColorMode()\n  const text = useColorModeValue(\"dark\", \"light\")\n  const SwitchIcon = useColorModeValue(FaMoon, FaSun)\n\n  return (\n    <IconButton\n      size=\"md\"\n      fontSize=\"lg\"\n      variant=\"ghost\"\n      color=\"current\"\n      marginLeft=\"2\"\n      onClick={toggleColorMode}\n      icon={<SwitchIcon />}\n      aria-label={`Switch to ${text} mode`}\n      {...props}\n    />\n  )\n}\n","import React from \"react\";\nimport {\n  useColorModeValue,\n  Menu,\n  MenuButton,\n  MenuItem,\n  MenuList,\n  MenuGroup,\n  IconButton,\n  Badge,\n  MenuDivider,\n} from \"@chakra-ui/react\";\nimport { BiNetworkChart } from \"react-icons/bi\";\n\nimport useChainPicker from \"../../hooks/useChainPicker\";\nimport { supportedNetworks } from \"../../constants\";\n\nexport const NetworkPicker: React.FC = () => {\n  const { chainId, setNetwork } = useChainPicker();\n\n  return (\n    <Menu>\n      <IconButton\n        as={MenuButton}\n        p={3}\n        transition=\"all 0.3s\"\n        size=\"md\"\n        fontSize=\"lg\"\n        variant=\"ghost\"\n        color=\"current\"\n        icon={<BiNetworkChart />}\n        aria-label={`Switch network`}\n      />\n      <MenuList bg={useColorModeValue(\"white\", \"gray.900\")} borderColor={useColorModeValue(\"gray.200\", \"gray.700\")}>\n        <MenuGroup title=\"Networks\">\n          <MenuDivider />\n          {supportedNetworks.map((e) => (\n            <MenuItem key={e.name || \"\" + e.chainId} onClick={() => setNetwork(e)}>\n              {e.chainId === chainId && <Badge>Selected</Badge>} {e.name}\n            </MenuItem>\n          ))}\n        </MenuGroup>\n      </MenuList>\n    </Menu>\n  );\n};\n","import {\n  IconButton,\n  Flex,\n  HStack,\n  useColorModeValue,\n  Text,\n  FlexProps,\n  Button,\n  useDisclosure,\n  Modal,\n  ModalCloseButton,\n  ModalHeader,\n  ModalContent,\n  ModalBody,\n  Box,\n  ModalOverlay,\n} from \"@chakra-ui/react\";\nimport { useWallet } from \"@binance-chain/bsc-use-wallet\";\nimport { FiMenu } from \"react-icons/fi\";\nimport { GrConnect } from \"react-icons/gr\";\nimport { CommanderBadge } from \"./CommanderBadge\";\nimport { ColorModeSwitcher } from \"./ColorModeSwitcher\";\nimport { useCallback, useEffect } from \"react\";\nimport useLocalStorage from \"hooks/useLocalStorage\";\nimport { NetworkPicker } from \"./NetworkPicker\";\n\ninterface MobileProps extends FlexProps {\n  onOpen: () => void;\n}\n\nconst validConnectors = [{ name: \"MetaMask\", id: \"injected\" }];\n\nconst autoconnectPeriod = 86400000;\n\nexport const MobileNav = ({ onOpen, ...rest }: MobileProps) => {\n  const { account, connect } = useWallet();\n  const { isOpen, onOpen: openModal, onClose } = useDisclosure();\n  const [autoconnect, setAutoconnect] = useLocalStorage(\"autoconnectExpirationDate\", Date.now());\n  const [connector, setConnector] = useLocalStorage<string | undefined>(\"connector\", undefined);\n\n  const handleChooseWallet = useCallback(async () => {\n    openModal();\n  }, [openModal]);\n\n  const handleConnect = useCallback(\n    async (id: string) => {\n      await connect(id as any);\n      setAutoconnect(Date.now() + autoconnectPeriod);\n      setConnector(id);\n      onClose();\n    },\n    [connect, onClose, setAutoconnect, setConnector]\n  );\n\n  useEffect(() => {\n    if (!connector) return;\n    if (autoconnect > Date.now() && !account) {\n      connect(connector as any);\n    }\n  }, [account, autoconnect, connector, connect, handleConnect]);\n\n  return (\n    <Flex\n      ml={{ base: 0, md: 60 }}\n      px={{ base: 4, md: 4 }}\n      height=\"20\"\n      alignItems=\"center\"\n      bg={useColorModeValue(\"white\", \"gray.900\")}\n      borderBottomWidth=\"1px\"\n      borderBottomColor={useColorModeValue(\"gray.200\", \"gray.700\")}\n      justifyContent={{ base: \"space-between\", md: \"flex-end\" }}\n      {...rest}\n    >\n      <IconButton\n        display={{ base: \"flex\", md: \"none\" }}\n        onClick={onOpen}\n        variant=\"outline\"\n        aria-label=\"open menu\"\n        icon={<FiMenu />}\n      />\n      <Text display={{ base: \"flex\", md: \"none\" }} fontSize=\"2xl\" fontFamily=\"monospace\" fontWeight=\"bold\">\n        Logo\n      </Text>\n\n      <HStack spacing={{ base: \"0\", md: \"6\" }}>\n        <ColorModeSwitcher />\n        <NetworkPicker />\n        {account ? (\n          <CommanderBadge setAutoconnect={setAutoconnect} />\n        ) : (\n          <Button\n            size=\"lg\"\n            variant=\"ghost\"\n            aria-label=\"open menu\"\n            leftIcon={<GrConnect />}\n            onClick={handleChooseWallet}\n          >\n            Connect\n          </Button>\n        )}\n      </HStack>\n      <Modal isOpen={isOpen} onClose={onClose}>\n        <ModalOverlay />\n        <ModalContent>\n          <ModalCloseButton />\n          <ModalHeader>Choose a wallet</ModalHeader>\n          <ModalBody>\n            {Object.values(validConnectors).map((connector) => (\n              <Button key={connector.id} isFullWidth onClick={() => handleConnect(connector.id)}>\n                <Box>{connector.name}</Box>\n              </Button>\n            ))}\n          </ModalBody>\n        </ModalContent>\n      </Modal>\n    </Flex>\n  );\n};\n","import Sidebar from \"./Sidebar\"\n\nexport default Sidebar","import { ReactNode } from 'react';\nimport {\n  Box,\n  useColorModeValue,\n  Drawer,\n  DrawerContent,\n  useDisclosure,\n} from '@chakra-ui/react';\nimport { SidebarContent } from './Content';\nimport { MobileNav } from './Mobile';\n\nexport default function SidebarWithHeader({\n  children,\n}: {\n  children: ReactNode;\n}) {\n  const { isOpen, onOpen, onClose } = useDisclosure();\n  return (\n    <Box minH=\"100vh\" bg={useColorModeValue('gray.100', 'gray.900')}>\n      <SidebarContent\n        onClose={() => onClose}\n        display={{ base: 'none', md: 'block' }}\n      />\n      <Drawer\n        autoFocus={false}\n        isOpen={isOpen}\n        placement=\"left\"\n        onClose={onClose}\n        returnFocusOnClose={false}\n        onOverlayClick={onClose}\n        size=\"full\">\n        <DrawerContent>\n          <SidebarContent onClose={onClose} />\n        </DrawerContent>\n      </Drawer>\n      {/* mobilenav */}\n      <MobileNav onOpen={onOpen} />\n      <Box ml={{ base: 0, md: 60 }} p=\"4\">\n        {children}\n      </Box>\n    </Box>\n  );\n}","import React from \"react\";\nimport { Box, Button, Container, Heading, Link, Stack, useColorModeValue } from \"@chakra-ui/react\";\n\nimport useCommanders from \"../../hooks/useSanctis\";\n\nconst Commanders: React.FC = () => {\n  const { ownedCommanders } = useCommanders();\n\n  console.log(ownedCommanders);\n\n  return (\n    <Container maxW={\"5xl\"}>\n      <Stack\n        background={useColorModeValue(\"white\", \"gray.800\")}\n        textAlign={\"center\"}\n        align={\"center\"}\n        spacing={{ base: 8, md: 10 }}\n        p=\"3\"\n        rounded=\"xl\"\n      >\n        <Heading>Sanctis</Heading>\n        <Box>\n          A commander is free to create and you can have as many as you want. However, the game is designed to encourage\n          players to have few commanders with a big empire rather than many commanders with smaller empires.\n        </Box>\n        <Button as={Link} href={\"#/commanders\"}>\n          Choose a commander\n        </Button>\n      </Stack>\n    </Container>\n  );\n};\n\nexport default Commanders;\n","import { Planet } from \"contexts/Sanctis/types\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport useSanctis from \"./useSanctis\";\n\nexport default function usePlanet(planetId?: string) {\n  const { planets, fetchPlanet } = useSanctis()\n  const [planet, setPlanet] = useState<Planet | null>()\n\n  const fetch = useCallback(async () => {\n    if(!planetId) return\n    else if(!planets[planetId]) {\n      setPlanet(await fetchPlanet(planetId))\n    } else {\n      setPlanet(planets[planetId])\n    }\n  }, [planets, planetId, fetchPlanet])\n\n  useEffect(() =>  {\n    fetch()\n  }, [fetch])\n\n  return planet\n}","import { BigNumber } from \"ethers\";\n\nexport interface Race {\n  address: string;\n  name: string;\n}\n\nexport interface Resource {\n  address: string;\n  name: string;\n  icon: string;\n}\n\nexport interface Reserve {\n  resource: Resource;\n  amount: BigNumber;\n}\n\nexport interface Infrastructure {\n  address: string;\n  name: string;\n  description: string;\n  level?: number;\n  nextUpgrade?: number;\n  costsResources?: Resource[];\n  nextCosts?: BigNumber[];\n}\n\nexport interface ResourceProducer extends Infrastructure {\n  level?: number;\n  producedResources?: Resource[];\n  productionPerBlock?: number[];\n  lastHarvest?: number;\n  nextUpgrade?: number;\n}\n\nexport interface Ship {\n  address: string;\n  name: string;\n  description: string;\n  costsResources?: Resource[];\n  costs?: BigNumber[];\n  speed?: number;\n  offensivePower?: number;\n  defensivePower?: number;\n  capacity?: BigNumber;\n  reserve?: number;\n}\n\nexport enum FleetStatus {\n  Preparing = \"Preparing\",\n  Orbitting = \"Orbitting\",\n  Travelling = \"Travelling\",\n}\n\nexport interface Fleet {\n  id: string;\n  commander: BigNumber;\n  fromPlanet?: Planet;\n  toPlanet?: Planet;\n  totalSpeed: BigNumber;\n  totalOffensivePower: BigNumber;\n  totalDefensivePower: BigNumber;\n  capacity: BigNumber;\n  ships: BigNumber;\n  arrivalBlock: number;\n  status: FleetStatus;\n  shipsInFleet: { [address: string]: number };\n  resources: { [address: string]: BigNumber };\n}\n\nexport enum PlanetStatus {\n  Unknown,\n  Uncharted,\n  Colonized,\n  Federated,\n  Occupied,\n}\n\nexport interface Planet {\n  id: string;\n  status: PlanetStatus;\n  ruler: string;\n  x: number;\n  y: number;\n  z: number;\n  humidity: number;\n  infrastructures: Infrastructure[];\n  reserves: Reserve[];\n}\n\nexport interface Commander {\n  id: string;\n  name?: string;\n  race?: Race;\n  onboarding?: Date;\n  planets?: string[];\n}\n","import { Box, Flex, Image, Text, Tooltip, useColorModeValue } from \"@chakra-ui/react\";\nimport { BigNumber, ethers } from \"ethers\";\nimport numeral from \"numeral\";\nimport React, { useMemo } from \"react\";\n\nimport { Resource } from \"../contexts/Sanctis/types\";\n\nconst ResourceBadge: React.FC<{ resource: Resource; amount?: BigNumber; size?: \"sm\" | \"md\" | \"lg\" }> = ({\n  resource,\n  amount,\n  size = \"md\",\n}) => {\n  const bgColor = useColorModeValue(\"gray.400\", \"gray.600\");\n  const iconSize = ((size: string) => {\n    switch (size) {\n      case \"sm\":\n        return \"30px\";\n      case \"md\":\n        return \"40px\";\n      case \"lg\":\n        return \"50px\";\n      default:\n        return \"40px\";\n    }\n  })(size);\n  const width = useMemo(() => {\n    switch (size) {\n      case \"sm\":\n        return \"3em\";\n      case \"md\":\n        return \"2em\";\n      case \"lg\":\n        return \"2em\";\n    }\n  }, [size]);\n  const content = useMemo(() => {\n    return (\n      <Flex\n        background={bgColor}\n        p=\"2\"\n        rounded=\"3xl\"\n        w=\"calc(120%)\"\n        shadow={size}\n        align=\"center\"\n        direction={size !== \"sm\" ? \"column\" : \"row\"}\n      >\n        <Image src={resource.icon} background=\"black\" maxW={iconSize} maxH={iconSize} p={2} rounded=\"full\" />\n        <Box ml=\"1\" minW={width} justifyContent={size !== \"sm\" ? \"center\" : \"start\"}>\n          <Text fontWeight=\"bold\" fontSize={size} width=\"fit-content\">\n            {amount ? numeral(ethers.utils.formatEther(amount)).format(\"0.0a\") : \"???\"}\n          </Text>\n          {size !== \"sm\" && (\n            <Text fontSize={size} width=\"fit-content\">\n              {resource.name}\n            </Text>\n          )}\n        </Box>\n      </Flex>\n    );\n  }, [amount, iconSize, resource, bgColor, size, width]);\n\n  return size !== \"sm\" ? content : <Tooltip label={resource.name}>{content}</Tooltip>;\n};\n\nexport default ResourceBadge;\n","import {\n  AccordionButton,\n  AccordionIcon,\n  AccordionItem,\n  AccordionPanel,\n  Flex,\n  Text,\n  useColorModeValue,\n  Wrap,\n  WrapItem,\n} from \"@chakra-ui/react\";\nimport React from \"react\";\n\nimport ResourceBadge from \"../../components/ResourceBadge\";\nimport { Planet } from \"../../contexts/Sanctis/types\";\n\nconst ReservesSection: React.FC<{ planet: Planet }> = ({ planet }) => {\n  return (\n    <AccordionItem>\n      <Flex\n        direction=\"column\"\n        align={\"center\"}\n        m={2}\n        p={3}\n        background={useColorModeValue(\"gray.300\", \"gray.700\")}\n        rounded=\"lg\"\n      >\n        <AccordionButton justifyContent=\"center\">\n          <Text margin=\"auto\" mb=\"3\" fontSize=\"xl\" fontWeight=\"bold\">\n            Planet's reserves\n          </Text>\n          <AccordionIcon />\n        </AccordionButton>\n        <AccordionPanel>\n          <Wrap>\n            {planet.reserves.map((e) => (\n              <WrapItem key={e.resource.name + e.amount.toString()}>\n                <ResourceBadge resource={e.resource} amount={e.amount} size=\"lg\" />\n              </WrapItem>\n            ))}\n          </Wrap>\n        </AccordionPanel>\n      </Flex>\n    </AccordionItem>\n  );\n};\n\nexport default ReservesSection;\n","import { useWallet } from '@binance-chain/bsc-use-wallet'\nimport { useToast } from '@chakra-ui/react'\nimport { ExternalProvider } from '@ethersproject/providers'\nimport { Contract, ethers, providers, utils } from 'ethers'\nimport { useCallback, useEffect, useMemo, useState } from 'react'\n\nimport ResourceProducerABI from '../constants/contracts/IResourceProducer.sol/IResourceProducer.json'\nimport { Infrastructure } from '../contexts/Sanctis/types'\nimport useApprovedObjects from './useApprovedObjects'\nimport useConfirmationModal from './useConfirmationModal'\nimport useSanctis from './useSanctis'\n\nconst useInfrastructure = (infrastructure: Infrastructure, planetId: string) => {\n  const toast = useToast();\n  const { open } = useConfirmationModal();\n  const { resources } = useApprovedObjects();\n  const { ethereum } = useWallet<ExternalProvider>();\n  const { fetchPlanet } = useSanctis();\n  const [loadedInfrastructure, setLoadedInfrastructure] = useState<Infrastructure>(infrastructure);\n  const [isFetching, setIsFetching] = useState<boolean>(false);\n\n  const contract = useMemo(() => {\n    if (!ethereum) return;\n    const ResourceProducerInterface = new utils.Interface(ResourceProducerABI.abi);\n    return new Contract(\n      infrastructure.address,\n      ResourceProducerInterface,\n      new providers.Web3Provider(ethereum).getSigner()\n    );\n  }, [ethereum, infrastructure]);\n\n  const fetch = useCallback(async () => {\n    if (!contract || isFetching) return;\n    setIsFetching(true);\n\n    const level = await contract.level(planetId);\n    const [costsResources, nextCosts] = await contract.costs(planetId);\n    const nextUpgrade = await contract.nextUpgrade(planetId);\n    setLoadedInfrastructure({\n      ...infrastructure,\n      level: level.toNumber(),\n      nextUpgrade: nextUpgrade.toNumber(),\n      costsResources: costsResources.map((e: string) =>\n        resources.find((a) => ethers.utils.getAddress(e) === ethers.utils.getAddress(a.address))\n      ),\n      nextCosts,\n    });\n\n    setIsFetching(false);\n  }, [isFetching, infrastructure, planetId, resources, contract, setLoadedInfrastructure]);\n\n  useEffect(() => {\n    if (!loadedInfrastructure.nextCosts || loadedInfrastructure.address !== infrastructure.address) fetch();\n  }, [loadedInfrastructure, infrastructure, fetch]);\n\n  const create = useCallback(\n    async (planetId: string) => {\n      if (!contract) return;\n      open(async () => {\n        try {\n          const result = await contract.create(planetId);\n          await result.wait();\n          await fetch();\n          await fetchPlanet(planetId);\n          toast({\n            status: \"success\",\n            title: \"Created\",\n            description: `${infrastructure.name} has been built on Planet ${planetId}`,\n          });\n        } catch (err: any) {\n          toast({ status: \"error\", title: \"Error\", description: `Failed creation: ${err.message}` });\n        }\n      });\n    },\n    [contract, infrastructure, fetch, fetchPlanet, open, toast]\n  );\n\n  const upgrade = useCallback(\n    async (planetId: string) => {\n      if (!contract) return;\n      open(async () => {\n        try {\n          const result = await contract.upgrade(planetId);\n          await result.wait();\n          await fetch();\n          await fetchPlanet(planetId);\n          toast({\n            status: \"success\",\n            title: \"Upgraded\",\n            description: `${infrastructure.name} has been upgraded on Planet ${planetId}`,\n          });\n        } catch (err: any) {\n          toast({ status: \"error\", title: \"Error\", description: `Failed upgrade: ${err.message}` });\n        }\n      });\n    },\n    [contract, infrastructure, fetch, fetchPlanet, open, toast]\n  );\n\n  return {\n    infrastructure: loadedInfrastructure,\n    create,\n    upgrade,\n  };\n};\n\nexport default useInfrastructure;\n","import { Button, Select, Stack, Text, useColorModeValue, Wrap, WrapItem } from \"@chakra-ui/react\";\nimport ResourceBadge from \"components/ResourceBadge\";\nimport React, { ChangeEvent, useCallback, useMemo, useState } from \"react\";\n\nimport { Infrastructure, Planet, Resource } from \"../../../contexts/Sanctis/types\";\nimport useApprovedObjects from \"../../../hooks/useApprovedObjects\";\nimport useInfrastructure from \"../../../hooks/useInfrastructure\";\n\nconst CreateInfrastuctureCard: React.FC<{ planet: Planet }> = ({ planet }) => {\n  const { infrastructures } = useApprovedObjects();\n  const choices = useMemo(() => {\n    return planet.infrastructures.filter((e) => !e.level);\n  }, [planet.infrastructures]);\n  const [choice, setChoice] = useState<Infrastructure | undefined>(choices[0]);\n  const { infrastructure, create } = useInfrastructure(choice || infrastructures[0], planet.id);\n\n  const handleSelect = useCallback(\n    (e: ChangeEvent<HTMLSelectElement>) => {\n      setChoice(JSON.parse(e.target.value));\n    },\n    [setChoice]\n  );\n\n  const handleCreate = useCallback(async () => {\n    create(planet.id);\n  }, [planet, create]);\n\n  return (\n    <Stack spacing={3} background={useColorModeValue(\"white\", \"gray.800\")} p=\"5\" rounded=\"xl\">\n      <Text fontSize=\"xl\" fontWeight=\"bold\">\n        Choose an infrastructure to build\n      </Text>\n      <Select onChange={handleSelect}>\n        {choices.map((e) => (\n          <option key={e.name} value={JSON.stringify(e)}>\n            {e.name}\n          </option>\n        ))}\n      </Select>\n      {choice && infrastructure && (\n        <>\n          <Text fontSize=\"lg\">{infrastructure.description}</Text>\n          {infrastructure.nextCosts && infrastructure.costsResources ? (\n            <Stack spacing={0}>\n              <Text>Costs:</Text>\n              <Wrap mt={0}>\n                {infrastructure.costsResources.map((e: Resource, i) => (\n                  <WrapItem key={e.name} mt={0}>\n                    <ResourceBadge resource={e} amount={infrastructure.nextCosts![i]} size=\"sm\" />\n                  </WrapItem>\n                ))}\n              </Wrap>\n            </Stack>\n          ) : (\n            <Text>This infrastructure is free to build</Text>\n          )}\n          <Button\n            rounded={\"full\"}\n            px={6}\n            colorScheme={\"blue\"}\n            bg={\"blue.400\"}\n            _hover={{ bg: \"blue.500\" }}\n            onClick={handleCreate}\n          >\n            Create\n          </Button>\n        </>\n      )}\n    </Stack>\n  );\n};\n\nexport default CreateInfrastuctureCard;\n","import { useWallet } from '@binance-chain/bsc-use-wallet'\nimport { ExternalProvider } from '@ethersproject/providers'\nimport { BigNumber, Contract, providers, utils } from 'ethers'\nimport { useCallback, useEffect, useMemo, useState } from 'react'\n\nimport PowerPlantABI from '../constants/contracts/IPowerPlants.sol/IPowerPlants.json'\nimport { Infrastructure, Resource } from '../contexts/Sanctis/types'\nimport useApprovedObjects from './useApprovedObjects'\nimport useInfrastructure from './useInfrastructure'\n\nexport interface PowerPlantCharacteristics extends Infrastructure {\n  energy?: Resource;\n  currentProduction?: BigNumber;\n  nextProduction?: BigNumber;\n}\n\nconst usePowerPlant = (infrastructure: Infrastructure, planetId: string) => {\n  const { ethereum } = useWallet<ExternalProvider>();\n  const { resources } = useApprovedObjects();\n  const { infrastructure: baseInfra, create, upgrade } = useInfrastructure(infrastructure, planetId);\n  const [loadedPlant, setLoadedPlant] = useState<PowerPlantCharacteristics>(infrastructure);\n  const [isFetching, setIsFetching] = useState<boolean>(false);\n\n  const contract = useMemo(() => {\n    if (!ethereum) return;\n\n    const PowerPlantInterface = new utils.Interface(PowerPlantABI.abi);\n    return new Contract(infrastructure.address, PowerPlantInterface, new providers.Web3Provider(ethereum).getSigner());\n  }, [ethereum, infrastructure]);\n\n  const fetch = useCallback(async () => {\n    if (!contract || isFetching) return;\n    setIsFetching(true);\n    try {\n      const currentProduction = await contract.currentProduction(planetId);\n      const nextProduction = await contract.nextProduction(planetId);\n      setLoadedPlant({\n        ...baseInfra,\n        energy: resources.find((e) => e.name === \"Energy\")!,\n        currentProduction: currentProduction,\n        nextProduction: nextProduction,\n      });\n    } catch (err: any) {\n      console.log(\"Failed fetching resource producer\", err);\n    }\n    setIsFetching(false);\n  }, [contract, isFetching, baseInfra, planetId, resources, setLoadedPlant]);\n\n  useEffect(() => {\n    if (!loadedPlant.costsResources || !loadedPlant.nextCosts) fetch();\n  }, [loadedPlant, fetch]);\n\n  return {\n    powerPlant: loadedPlant,\n    fetch,\n    create,\n    upgrade,\n  };\n};\n\nexport default usePowerPlant;\n","import { useWallet } from \"@binance-chain/bsc-use-wallet\";\nimport { Button, Divider, Flex, Stack, Text, useColorModeValue, Wrap, WrapItem } from \"@chakra-ui/react\";\nimport ResourceBadge from \"components/ResourceBadge\";\nimport { BigNumber } from \"ethers\";\nimport usePowerPlant from \"hooks/usePowerPlant\";\nimport React from \"react\";\n\nimport { Infrastructure, Planet } from \"../../../contexts/Sanctis/types\";\n\nconst PowerPlantCard: React.FC<{ infrastructure: Infrastructure; planet: Planet }> = ({ infrastructure, planet }) => {\n  const { getBlockNumber } = useWallet();\n  const { powerPlant, upgrade } = usePowerPlant(infrastructure, planet.id);\n\n  return (\n    <Stack spacing={3} background={useColorModeValue(\"white\", \"gray.800\")} p=\"5\" rounded=\"xl\" shadow={\"xl\"}>\n      <Text fontWeight=\"bold\" fontSize=\"xl\">\n        {powerPlant.name}\n      </Text>\n      <Text fontSize=\"md\">{powerPlant.description}</Text>\n      <Text fontWeight=\"bold\" fontSize=\"md\" textAlign=\"start\">\n        Level: {powerPlant.level}\n      </Text>\n      <Text fontWeight=\"bold\" fontSize=\"md\" textAlign=\"start\">\n        Pending:\n      </Text>\n      {powerPlant.energy && powerPlant.currentProduction && (\n        <Flex direction={\"row\"}>\n          <ResourceBadge resource={powerPlant.energy} amount={BigNumber.from(powerPlant.currentProduction)} size=\"sm\" />\n        </Flex>\n      )}\n      <Divider />\n      <Stack spacing={2} justify={\"center\"}>\n        <Text fontWeight=\"bold\" fontSize=\"xl\" textAlign=\"start\">\n          Upgrade costs:\n        </Text>\n        <Wrap>\n          {(powerPlant.nextCosts || []).map((cost, i) => (\n            <WrapItem key={powerPlant.costsResources![i].name}>\n              <ResourceBadge resource={powerPlant.costsResources![i]} amount={BigNumber.from(cost)} size=\"sm\" />\n            </WrapItem>\n          ))}\n        </Wrap>\n        <Button\n          rounded={\"full\"}\n          px={6}\n          colorScheme={\"blue\"}\n          onClick={() => upgrade(planet.id)}\n          disabled={getBlockNumber() < powerPlant.nextUpgrade!}\n        >\n          {getBlockNumber() < powerPlant.nextUpgrade!\n            ? `Upgradable in ${powerPlant.nextUpgrade! - getBlockNumber()} blocks`\n            : \"Upgrade\"}\n        </Button>\n      </Stack>\n    </Stack>\n  );\n};\n\nexport default PowerPlantCard;\n","import { useWallet } from '@binance-chain/bsc-use-wallet'\nimport { useToast } from '@chakra-ui/react'\nimport { ExternalProvider } from '@ethersproject/providers'\nimport { BigNumber, Contract, ethers, providers, utils } from 'ethers'\nimport { useCallback, useEffect, useMemo, useState } from 'react'\n\nimport ResourceProducerABI from '../constants/contracts/IResourceProducer.sol/IResourceProducer.json'\nimport { Infrastructure, Resource } from '../contexts/Sanctis/types'\nimport useApprovedObjects from './useApprovedObjects'\nimport useConfirmationModal from './useConfirmationModal'\nimport useInfrastructure from './useInfrastructure'\nimport useSanctis from './useSanctis'\n\nexport interface ResourceProducerCharacteristics extends Infrastructure {\n  lastHarvest?: number;\n  producedResources?: Resource[];\n  productionPerBlock?: BigNumber[];\n  nextProduction?: BigNumber[];\n}\n\nconst useResourceProducer = (infrastructure: Infrastructure, planetId: string) => {\n  const toast = useToast();\n  const { open } = useConfirmationModal();\n  const { ethereum } = useWallet<ExternalProvider>();\n  const { resources } = useApprovedObjects();\n  const { fetchPlanet } = useSanctis();\n  const { infrastructure: baseInfra, create, upgrade } = useInfrastructure(infrastructure, planetId);\n  const [loadedProducer, setLoadedProducer] = useState<ResourceProducerCharacteristics>(infrastructure);\n  const [isFetching, setIsFetching] = useState<boolean>(false);\n\n  const contract = useMemo(() => {\n    if (!ethereum) return;\n    const ResourceProducerInterface = new utils.Interface(ResourceProducerABI.abi);\n    return new Contract(\n      infrastructure.address,\n      ResourceProducerInterface,\n      new providers.Web3Provider(ethereum).getSigner()\n    );\n  }, [ethereum, infrastructure]);\n\n  const fetch = useCallback(async () => {\n    if (!contract || isFetching) return;\n    setIsFetching(true);\n\n    try {\n      const lastHarvest = await contract.lastHarvest(planetId);\n      const [producedResources, currentProduction] = await contract.currentProduction(planetId);\n      const [, nextProduction] = await contract.nextProduction(planetId);\n      setLoadedProducer({\n        ...baseInfra,\n        lastHarvest: lastHarvest.toNumber(),\n        producedResources: producedResources.map((e: string) =>\n          resources.find((a) => ethers.utils.getAddress(e) === ethers.utils.getAddress(a.address))\n        ),\n        productionPerBlock: currentProduction.map((e: any) => BigNumber.from(e)),\n        nextProduction: nextProduction,\n      });\n    } catch (err: any) {\n      console.log(\"Failed fetching resource producer\", err);\n    }\n    setIsFetching(false);\n  }, [contract, isFetching, baseInfra, planetId, resources, setLoadedProducer]);\n\n  useEffect(() => {\n    if (!loadedProducer.costsResources || !loadedProducer.nextCosts) fetch();\n  }, [loadedProducer, fetch]);\n\n  const harvest = useCallback(\n    async (planetId: string) => {\n      if (!contract) return;\n      open(async () => {\n        try {\n          const result = await contract.harvest(planetId);\n          await result.wait();\n          await fetch();\n          await fetchPlanet(planetId);\n          toast({\n            status: \"success\",\n            title: \"Harvest\",\n            description: `An ${infrastructure.name} has been harvested on Planet ${planetId}`,\n          });\n        } catch (err: any) {\n          toast({\n            status: \"error\",\n            title: \"Error\",\n            description: `Failed harvest: ${err.data?.message || err.message}`,\n          });\n        }\n      });\n    },\n    [contract, infrastructure, fetch, fetchPlanet, open, toast]\n  );\n\n  return {\n    producer: loadedProducer,\n    fetch,\n    create,\n    upgrade,\n    harvest,\n  };\n};\n\nexport default useResourceProducer;\n","import { useWallet } from \"@binance-chain/bsc-use-wallet\";\nimport { Button, Divider, Stack, Text, useColorModeValue, Wrap, WrapItem } from \"@chakra-ui/react\";\nimport ResourceBadge from \"components/ResourceBadge\";\nimport { BigNumber } from \"ethers\";\nimport useResourceProducer from \"hooks/useResourceProducer\";\nimport React from \"react\";\n\nimport { Infrastructure, Planet } from \"../../../contexts/Sanctis/types\";\n\nconst ResourceProducerCard: React.FC<{ infrastructure: Infrastructure; planet: Planet }> = ({\n  infrastructure,\n  planet,\n}) => {\n  const { getBlockNumber } = useWallet();\n  const { producer, upgrade, harvest } = useResourceProducer(infrastructure, planet.id);\n  return (\n    <Stack spacing={3} background={useColorModeValue(\"white\", \"gray.800\")} p=\"5\" rounded=\"xl\" shadow={\"xl\"}>\n      <Text fontWeight=\"bold\" fontSize=\"xl\">\n        {producer.name}\n      </Text>\n      <Text fontSize=\"md\">{producer.description}</Text>\n      <Text fontWeight=\"bold\" fontSize=\"md\" textAlign=\"start\">\n        Level: {producer.level}\n      </Text>\n      <Text fontWeight=\"bold\" fontSize=\"md\" textAlign=\"start\">\n        Pending:\n      </Text>\n      <Wrap>\n        {(producer.productionPerBlock || []).map((prod, i) => (\n          <WrapItem key={producer.producedResources![i].name}>\n            <ResourceBadge\n              resource={producer.producedResources![i]}\n              amount={BigNumber.from(prod).mul(Math.max(0, getBlockNumber() - producer.lastHarvest!))}\n              size=\"sm\"\n            />\n          </WrapItem>\n        ))}\n      </Wrap>\n      <Button\n        rounded={\"full\"}\n        px={6}\n        bg={\"blue.400\"}\n        _hover={{ bg: \"blue.500\" }}\n        colorScheme={\"blue\"}\n        onClick={() => harvest(planet.id)}\n        disabled={getBlockNumber() < producer.lastHarvest!}\n      >\n        {getBlockNumber() < producer.lastHarvest!\n          ? `Harvestable in ${producer.lastHarvest! - getBlockNumber()} blocks`\n          : \"Harvest\"}\n      </Button>\n      <Divider />\n      <Stack spacing={2} justify={\"center\"}>\n        <Text fontWeight=\"bold\" fontSize=\"xl\" textAlign=\"start\">\n          Upgrade costs:\n        </Text>\n        <Wrap>\n          {(producer.nextCosts || []).map((cost, i) => (\n            <WrapItem key={producer.costsResources![i].name}>\n              <ResourceBadge resource={producer.costsResources![i]} amount={BigNumber.from(cost)} size=\"sm\" />\n            </WrapItem>\n          ))}\n        </Wrap>\n        <Button\n          rounded={\"full\"}\n          px={6}\n          colorScheme={\"blue\"}\n          onClick={() => upgrade(planet.id)}\n          disabled={getBlockNumber() < producer.nextUpgrade!}\n        >\n          {getBlockNumber() < producer.nextUpgrade!\n            ? `Upgradable in ${producer.nextUpgrade! - getBlockNumber()} blocks`\n            : \"Upgrade\"}\n        </Button>\n      </Stack>\n    </Stack>\n  );\n};\n\nexport default ResourceProducerCard;\n","export default __webpack_public_path__ + \"static/media/chest.c488cb7e.svg\";","export default __webpack_public_path__ + \"static/media/gladius.48d1672b.svg\";","export default __webpack_public_path__ + \"static/media/shield.5ea7eb49.svg\";","export default __webpack_public_path__ + \"static/media/speedometer.a047b5a0.svg\";","import { Flex, Image, Text, Tooltip, useColorModeValue } from '@chakra-ui/react'\nimport React, { useMemo } from 'react'\n\nimport capacity from '../assets/chest.svg'\nimport offense from '../assets/gladius.svg'\nimport defense from '../assets/shield.svg'\nimport speed from '../assets/speedometer.svg'\n\nconst ShipStatBadge: React.FC<{\n  type: \"offense\" | \"defense\" | \"capacity\" | \"speed\";\n  amount?: number;\n}> = ({ type, amount }) => {\n  const name = useMemo(() => {\n    switch (type) {\n      case \"speed\":\n        return \"Speed\";\n      case \"offense\":\n        return \"Attack\";\n      case \"defense\":\n        return \"Defense\";\n      case \"capacity\":\n        return \"Capacity\";\n    }\n  }, [type]);\n\n  const icon = useMemo(() => {\n    switch (type) {\n      case \"speed\":\n        return speed;\n      case \"offense\":\n        return offense;\n      case \"defense\":\n        return defense;\n      case \"capacity\":\n        return capacity;\n      default:\n        return defense;\n    }\n  }, [type]);\n\n  return (\n    <Tooltip label={name}>\n      <Flex\n        w=\"100%\"\n        background={useColorModeValue(\"gray.400\", \"gray.600\")}\n        p=\"1.5\"\n        rounded=\"3xl\"\n        shadow={\"sm\"}\n        align=\"center\"\n      >\n        <Image\n          src={icon}\n          stroke={useColorModeValue(\"black\", \"white\")}\n          background=\"black\"\n          maxW={\"30px\"}\n          maxH={\"30px\"}\n          p={2}\n          rounded=\"full\"\n        />\n        <Flex ml=\"1\">\n          <Text fontWeight=\"bold\" fontSize={\"sm\"} mr={2} textAlign=\"center\" width={\"fit-content\"}>\n            {amount ? amount : \"0\"}\n          </Text>\n        </Flex>\n      </Flex>\n    </Tooltip>\n  );\n};\n\nexport default ShipStatBadge;\n","import { useWallet } from \"@binance-chain/bsc-use-wallet\";\nimport { ExternalProvider } from \"@ethersproject/providers\";\nimport { BigNumber, Contract, ethers, providers, utils } from \"ethers\";\nimport { useCallback, useEffect, useMemo, useState } from \"react\";\n\nimport ShipABI from \"../constants/contracts/IShip.sol/IShip.json\";\nimport { Infrastructure, Planet, Resource, Ship } from \"../contexts/Sanctis/types\";\nimport useApprovedObjects from \"./useApprovedObjects\";\n\nexport interface PowerPlantCharacteristics extends Infrastructure {\n  energy?: Resource;\n  currentProduction?: BigNumber;\n  nextProduction?: BigNumber;\n}\n\nconst useShip = (ship: Ship, planet?: Planet) => {\n  const { ethereum } = useWallet<ExternalProvider>();\n  const { resources } = useApprovedObjects();\n  const [loadedShip, setLoadedShip] = useState<Ship>(ship);\n  const [isFetching, setIsFetching] = useState<boolean>(false);\n\n  const contract = useMemo(() => {\n    if (!ethereum) return;\n\n    const ShipInterface = new utils.Interface(ShipABI.abi);\n    return new Contract(ship.address, ShipInterface, new providers.Web3Provider(ethereum).getSigner());\n  }, [ethereum, ship]);\n\n  const fetch = useCallback(async () => {\n    if (!contract || isFetching) return;\n    setIsFetching(true);\n    try {\n      const [costsResources, costs] = await contract.unitCosts();\n      const speed = await contract.speed();\n      const offensivePower = await contract.offensivePower();\n      const defensivePower = await contract.defensivePower();\n      const capacity = await contract.capacity();\n      const reserve = planet ? (await contract.reserve(planet.id)).toNumber() : 0;\n      setLoadedShip({\n        ...ship,\n        costsResources: costsResources.map((e: string) =>\n          resources.find((a) => ethers.utils.getAddress(e) === ethers.utils.getAddress(a.address))\n        ),\n        costs,\n        speed: speed.toNumber(),\n        offensivePower: offensivePower.toNumber(),\n        defensivePower: defensivePower.toNumber(),\n        capacity: capacity,\n        reserve,\n      });\n    } catch (err: any) {\n      console.log(\"Failed fetching ship\", err);\n    }\n    setIsFetching(false);\n  }, [contract, isFetching, ship, planet, resources, setLoadedShip]);\n\n  useEffect(() => {\n    if (!loadedShip.costsResources || loadedShip.address !== ship.address) fetch();\n  }, [loadedShip, ship, fetch]);\n\n  return {\n    ship: loadedShip,\n    fetch,\n  };\n};\n\nexport default useShip;\n","import { useWallet } from '@binance-chain/bsc-use-wallet'\nimport { useToast } from '@chakra-ui/react'\nimport { ExternalProvider } from '@ethersproject/providers'\nimport { Contract, providers, utils } from 'ethers'\nimport { useCallback, useEffect, useMemo, useState } from 'react'\n\nimport SpatioportABI from '../constants/contracts/ISpatioports.sol/ISpatioports.json'\nimport { Infrastructure, Ship } from '../contexts/Sanctis/types'\nimport useConfirmationModal from './useConfirmationModal'\nimport useInfrastructure from './useInfrastructure'\n\nexport interface SpatioportCharacteristics extends Infrastructure {\n  currentDiscount?: number;\n  nextDiscount?: number;\n  discountFactor?: number;\n}\n\nconst useSpatioport = (infrastructure: Infrastructure, planetId: string) => {\n  const toast = useToast();\n  const { open } = useConfirmationModal();\n  const { ethereum } = useWallet<ExternalProvider>();\n  const { infrastructure: loadedInfrastructure, create, upgrade } = useInfrastructure(infrastructure, planetId);\n  const [spatioport, setSpatioport] = useState<SpatioportCharacteristics>(infrastructure);\n  const [isFetching, setIsFetching] = useState<boolean>(false);\n\n  const contract = useMemo(() => {\n    if (!ethereum) return;\n    const SpatioportInterface = new utils.Interface(SpatioportABI.abi);\n    return new Contract(infrastructure.address, SpatioportInterface, new providers.Web3Provider(ethereum).getSigner());\n  }, [ethereum, infrastructure]);\n\n  const fetch = useCallback(async () => {\n    if (!contract || isFetching) return;\n    setIsFetching(true);\n\n    try {\n      const currentDiscount = await contract.currentDiscount(planetId);\n      const nextDiscount = await contract.nextDiscount(planetId);\n      const discountFactor = await contract.discountFactor();\n      setSpatioport({\n        ...loadedInfrastructure,\n        currentDiscount: currentDiscount.toNumber(),\n        nextDiscount: nextDiscount.toNumber(),\n        discountFactor: discountFactor.toNumber(),\n      });\n    } catch (err: any) {\n      console.log(\"Failed fetching resource producer\", err);\n    }\n    setIsFetching(false);\n  }, [contract, isFetching, loadedInfrastructure, planetId, setSpatioport]);\n\n  useEffect(() => {\n    if (!spatioport.costsResources) fetch();\n  }, [spatioport, fetch]);\n\n  const build: (planetId: string, ship: Ship, quantity: number) => Promise<void> = useCallback(\n    async (planetId, ship, quantity) => {\n      if (!contract) return;\n      open(async () => {\n        try {\n          const result = await contract.build(planetId, ship.address, quantity);\n          await result.wait();\n          toast({\n            status: \"success\",\n            title: \"Build\",\n            description: `${quantity} ${ship.name} have been built on Planet ${planetId}`,\n          });\n        } catch (err: any) {\n          toast({\n            status: \"error\",\n            title: \"Error\",\n            description: `Failed harvest: ${err.data?.message || err.message}`,\n          });\n        }\n      });\n    },\n    [contract, open, toast]\n  );\n\n  return {\n    spatioport,\n    fetch,\n    create,\n    upgrade,\n    build,\n  };\n};\n\nexport default useSpatioport;\n","import { useWallet } from \"@binance-chain/bsc-use-wallet\";\nimport { Button, Divider, Flex, Input, Select, Stack, Text, useColorModeValue, Wrap, WrapItem } from \"@chakra-ui/react\";\nimport ResourceBadge from \"components/ResourceBadge\";\nimport { BigNumber, ethers } from \"ethers\";\nimport React, { useState } from \"react\";\n\nimport ShipStatBadge from \"../../../components/ShipStatBadge\";\nimport { Infrastructure, Planet, Ship } from \"../../../contexts/Sanctis/types\";\nimport useApprovedObjects from \"../../../hooks/useApprovedObjects\";\nimport useShip from \"../../../hooks/useShip\";\nimport useSpatioport from \"../../../hooks/useSpatioport\";\n\nconst SpatioportCard: React.FC<{ infrastructure: Infrastructure; planet: Planet }> = ({ infrastructure, planet }) => {\n  const { ships } = useApprovedObjects();\n  const { getBlockNumber } = useWallet();\n  const { spatioport, upgrade, build } = useSpatioport(infrastructure, planet.id);\n  const [choice, setChoice] = useState<Ship>(ships[0]);\n  const { ship } = useShip(choice);\n  const [quantity, setQuantity] = useState<number>(0);\n\n  return (\n    <Stack spacing={3} background={useColorModeValue(\"white\", \"gray.800\")} p=\"5\" rounded=\"xl\" shadow={\"xl\"}>\n      <Text fontWeight=\"bold\" fontSize=\"xl\">\n        {infrastructure.name}\n      </Text>\n      <Text fontWeight=\"bold\" fontSize=\"xl\">\n        {infrastructure.description}\n      </Text>\n      <Text fontWeight=\"bold\" fontSize=\"xl\" textAlign=\"start\">\n        Level: {infrastructure.level}\n      </Text>\n      <Select onChange={(e) => setChoice(JSON.parse(e.target.value))}>\n        {ships.map((e) => (\n          <option key={e.address} value={JSON.stringify(e)}>\n            {e.name}\n          </option>\n        ))}\n      </Select>\n      <Input\n        type=\"number\"\n        placeholder=\"Number of ships to build...\"\n        onChange={(e) => setQuantity(Number(e.target.value))}\n      />\n      <Text fontSize=\"md\" textAlign=\"start\">\n        Ship statistics:\n      </Text>\n      <Flex>\n        <ShipStatBadge type=\"speed\" amount={ship.speed} />\n        <ShipStatBadge type=\"offense\" amount={ship.offensivePower} />\n        <ShipStatBadge type=\"defense\" amount={ship.defensivePower} />\n        <ShipStatBadge type=\"capacity\" amount={Number(ethers.utils.formatEther(ship.capacity || 0))} />\n      </Flex>\n      <Text fontSize=\"md\" textAlign=\"start\">\n        Costs per ship:\n      </Text>\n      <Wrap>\n        {ship.costsResources?.map((resource, i) => (\n          <WrapItem key={resource.name}>\n            <ResourceBadge resource={resource} amount={ship.costs![i]} size=\"sm\" />\n          </WrapItem>\n        ))}\n      </Wrap>\n      <Button\n        rounded={\"full\"}\n        px={6}\n        colorScheme={\"blue\"}\n        bg={useColorModeValue(\"gray.300\", \"gray.500\")}\n        _hover={{ bg: useColorModeValue(\"gray.400\", \"gray.400\") }}\n        onClick={() => build(planet.id, choice, quantity)}\n        disabled={!quantity}\n      >\n        Build\n      </Button>\n      <Divider />\n      <Stack spacing={2} justify={\"center\"}>\n        <Text fontWeight=\"bold\" fontSize=\"xl\" textAlign=\"start\">\n          Upgrade costs:\n        </Text>\n        <Wrap>\n          {(spatioport.nextCosts || []).map((cost, i) => (\n            <WrapItem key={spatioport.costsResources![i].name}>\n              <ResourceBadge resource={spatioport.costsResources![i]} amount={BigNumber.from(cost)} size=\"sm\" />\n            </WrapItem>\n          ))}\n        </Wrap>\n        <Button\n          rounded={\"full\"}\n          px={6}\n          colorScheme={\"blue\"}\n          onClick={() => upgrade(planet.id)}\n          disabled={getBlockNumber() < spatioport.nextUpgrade!}\n        >\n          {getBlockNumber() < spatioport.nextUpgrade!\n            ? `Upgradable in ${spatioport.nextUpgrade! - getBlockNumber()} blocks`\n            : \"Upgrade\"}\n        </Button>\n      </Stack>\n    </Stack>\n  );\n};\n\nexport default SpatioportCard;\n","import {\n  AccordionButton,\n  AccordionIcon,\n  AccordionItem,\n  AccordionPanel,\n  Divider,\n  Flex,\n  Text,\n  useColorModeValue,\n  Wrap,\n  WrapItem,\n} from \"@chakra-ui/react\";\nimport React, { ReactChild, useMemo } from \"react\";\n\nimport deployedAddresses from \"../../constants\";\nimport { Planet } from \"../../contexts/Sanctis/types\";\nimport useChainPicker from \"../../hooks/useChainPicker\";\nimport CreateInfrastuctureCard from \"./infrastructures/CreateInfrastructureCard\";\nimport PowerPlantCard from \"./infrastructures/PowerPlantCard\";\nimport ResourceProducerCard from \"./infrastructures/ResourceProducerCard\";\nimport SpatioportCard from \"./infrastructures/SpatioportCard\";\n\nconst InfrastructuresSection: React.FC<{ planet: Planet }> = ({ planet }) => {\n  const { chainId } = useChainPicker();\n\n  const infrastructureCards = useMemo(() => {\n    return (\n      planet &&\n      planet.infrastructures &&\n      Object.values(planet.infrastructures)\n        .filter((e: any) => e.level !== 0)\n        .map((e) => {\n          let card: ReactChild;\n\n          const resourceProducers = [\n            deployedAddresses[chainId].ironMines,\n            deployedAddresses[chainId].siliconFurnaces,\n            deployedAddresses[chainId].heavyWaterPlants,\n          ];\n          const powerPlants = [deployedAddresses[chainId].solarPanels, deployedAddresses[chainId].fusionReactors];\n\n          if (resourceProducers.includes(e.address)) {\n            card = <ResourceProducerCard planet={planet} infrastructure={e} />;\n          } else if (powerPlants.includes(e.address)) {\n            card = <PowerPlantCard planet={planet} infrastructure={e} />;\n          } else if (e.address === deployedAddresses[chainId].spatioports) {\n            card = <SpatioportCard planet={planet} infrastructure={e} />;\n          } else {\n            card = <Text>Unknown infrastructure</Text>;\n          }\n          return <WrapItem key={e.name}>{card}</WrapItem>;\n        })\n    );\n  }, [chainId, planet]);\n\n  return (\n    <AccordionItem>\n      <Flex\n        direction={\"column\"}\n        textAlign={\"center\"}\n        align={\"center\"}\n        bg={useColorModeValue(\"gray.300\", \"gray.700\")}\n        m={2}\n        p={3}\n        rounded=\"lg\"\n        shadow=\"2xl\"\n        boxShadow=\"inner\"\n      >\n        <AccordionButton justifyContent=\"center\">\n          <Text margin=\"auto\" fontSize=\"xl\" fontWeight=\"bold\" mb=\"3\">\n            Planet's infrastructures\n          </Text>\n          <AccordionIcon />\n        </AccordionButton>\n        <AccordionPanel>\n          <Wrap justify={\"center\"} m={2}>\n            {infrastructureCards}\n          </Wrap>\n          <Divider mt={7} />\n          <Flex justify={\"center\"} m={5}>\n            <CreateInfrastuctureCard planet={planet} />\n          </Flex>\n        </AccordionPanel>\n      </Flex>\n    </AccordionItem>\n  );\n};\n\nexport default InfrastructuresSection;\n","import { useWallet } from \"@binance-chain/bsc-use-wallet\";\nimport { useToast } from \"@chakra-ui/react\";\nimport { ExternalProvider } from \"@ethersproject/providers\";\nimport { BigNumber, Contract, providers, utils } from \"ethers\";\nimport { useCallback, useEffect, useMemo, useState } from \"react\";\nimport deployedAddresses from \"../constants\";\n\nimport FleetsABI from \"../constants/contracts/IFleets.sol/IFleets.json\";\nimport { Commander, Fleet, FleetStatus, Planet, Ship } from \"../contexts/Sanctis/types\";\nimport useApprovedObjects from \"./useApprovedObjects\";\nimport useChainPicker from \"./useChainPicker\";\nimport useConfirmationModal from \"./useConfirmationModal\";\nimport useSanctis from \"./useSanctis\";\n\nconst useFleets = (planetId?: string) => {\n  const toast = useToast();\n  const { open } = useConfirmationModal();\n  const { chainId } = useChainPicker();\n  const { ethereum } = useWallet<ExternalProvider>();\n  const { fetchPlanet } = useSanctis();\n  const { ships: approvedShips, resources: approvedResources } = useApprovedObjects();\n  const [fleets, setFleets] = useState<Fleet[]>();\n  const [isFetching, setIsFetching] = useState<boolean>(false);\n\n  const contract = useMemo(() => {\n    if (!ethereum) return;\n    const FleetInterface = new utils.Interface(FleetsABI.abi);\n    return new Contract(\n      deployedAddresses[chainId].fleets,\n      FleetInterface,\n      new providers.Web3Provider(ethereum).getSigner()\n    );\n  }, [ethereum, chainId]);\n\n  const fetch = useCallback(\n    async (fleetId: BigNumber) => {\n      if (!contract) return;\n\n      const {\n        commander,\n        fromPlanetId,\n        toPlanetId,\n        totalSpeed,\n        totalOffensivePower,\n        totalDefensivePower,\n        capacity,\n        ships,\n        arrivalBlock,\n        status,\n      } = await contract.fleet(fleetId);\n      const fromPlanet = await fetchPlanet(fromPlanetId);\n      const toPlanet = await fetchPlanet(toPlanetId);\n\n      const fleetStatus = (id: number) => {\n        switch (id) {\n          default:\n            return FleetStatus.Preparing;\n          case 0:\n            return FleetStatus.Preparing;\n          case 1:\n            return FleetStatus.Orbitting;\n          case 2:\n            return FleetStatus.Travelling;\n        }\n      };\n\n      const shipsInFleet: { [address: string]: number } = {};\n      await Promise.all(\n        approvedShips.map(async (ship) => {\n          shipsInFleet[ship.address] = (await contract.shipsInFleet(ship.address, fleetId)).toNumber();\n        })\n      );\n\n      const resourcesInFleet: { [address: string]: BigNumber } = {};\n      await Promise.all(\n        approvedResources.map(async (resource) => {\n          resourcesInFleet[resource.address] = await contract.shipsInFleet(resource.address, fleetId);\n        })\n      );\n\n      return {\n        id: fleetId.toString(),\n        commander,\n        fromPlanet: fromPlanet || undefined,\n        toPlanet: toPlanet || undefined,\n        totalSpeed,\n        totalOffensivePower,\n        totalDefensivePower,\n        capacity,\n        ships,\n        arrivalBlock: arrivalBlock.toNumber(),\n        status: fleetStatus(status.toNumber()),\n        shipsInFleet: shipsInFleet,\n        resources: resourcesInFleet,\n      };\n    },\n    [approvedResources, approvedShips, contract, fetchPlanet]\n  );\n\n  const fetchPlanetFleets = useCallback(\n    async (planetId?: string) => {\n      if (!contract || isFetching) return;\n      setIsFetching(true);\n\n      const fleetsOnPlanet = await contract.fleetsOnPlanet(planetId);\n\n      const fleets: Fleet[] = await Promise.all(\n        Array(fleetsOnPlanet.toNumber())\n          .fill(0)\n          .map(async (_, i) => (await fetch(await contract.fleetOnPlanetByIndex(planetId, i)))!)\n      );\n\n      // Assign it to the planets fleets\n      setFleets(fleets.filter(Boolean));\n      setIsFetching(false);\n    },\n    [isFetching, contract, fetch]\n  );\n\n  useEffect(() => {\n    if (!fleets && planetId) fetchPlanetFleets(planetId);\n  }, [fleets, planetId, fetchPlanetFleets]);\n\n  const create = useCallback(\n    async (commander: Commander, planetId: string) => {\n      if (!contract) return;\n      open(async () => {\n        try {\n          const result = await contract.createFleet(Math.round(Math.random() * 1000000), commander.id, planetId);\n          await result.wait();\n          await fetchPlanetFleets(planetId);\n          toast({\n            status: \"success\",\n            title: \"Creation\",\n            description: `A fleet has been created on Planet ${planetId}`,\n          });\n        } catch (err: any) {\n          toast({ status: \"error\", title: \"Error\", description: `Failed creation: ${err.message}` });\n        }\n      });\n    },\n    [contract, fetchPlanetFleets, open, toast]\n  );\n\n  const move = useCallback(\n    async (fleet: Fleet, to: Planet) => {\n      if (!contract) return;\n      open(async () => {\n        try {\n          const result = await contract.moveFleet(fleet.id, to.id);\n          await result.wait();\n          await fetchPlanetFleets(fleet.fromPlanet?.id);\n          toast({\n            status: \"success\",\n            title: \"Creation\",\n            description: `A fleet has been created on Planet ${fleet.fromPlanet?.id}`,\n          });\n        } catch (err: any) {\n          toast({ status: \"error\", title: \"Error\", description: `Failed creation: ${err.message}` });\n        }\n      });\n    },\n    [contract, fetchPlanetFleets, open, toast]\n  );\n\n  const addToFleet = useCallback(\n    async (fleet: Fleet, ship: Ship, quantity: number) => {\n      if (!contract) return;\n      open(async () => {\n        try {\n          const result = await contract.addToFleet(fleet.id, ship.address, quantity);\n          await result.wait();\n          await fetchPlanetFleets(fleet.fromPlanet?.id);\n          toast({\n            status: \"success\",\n            title: \"Add to fleet\",\n            description: `${quantity} ${ship.name} have been added to fleet ${fleet.id}`,\n          });\n        } catch (err: any) {\n          toast({ status: \"error\", title: \"Error\", description: `Failed adding: ${err.message}` });\n        }\n      });\n    },\n    [contract, fetchPlanetFleets, open, toast]\n  );\n\n  const removeFromFleet = useCallback(\n    async (fleet: Fleet, ship: Ship, quantity: number) => {\n      if (!contract) return;\n      open(async () => {\n        try {\n          const result = await contract.removeFromFleet(fleet.id, ship.address, quantity);\n          await result.wait();\n          await fetchPlanetFleets(fleet.fromPlanet?.id);\n          toast({\n            status: \"success\",\n            title: \"Remove from fleet\",\n            description: `${quantity} ${ship.name} have been removed from fleet ${fleet.id}`,\n          });\n        } catch (err: any) {\n          toast({ status: \"error\", title: \"Error\", description: `Failed removing: ${err.message}` });\n        }\n      });\n    },\n    [contract, fetchPlanetFleets, open, toast]\n  );\n\n  const putInOrbit = useCallback(\n    async (fleet: Fleet) => {\n      if (!contract) return;\n      open(async () => {\n        try {\n          const result = await contract.putInOrbit(fleet.id);\n          await result.wait();\n          await fetchPlanetFleets(fleet.fromPlanet?.id);\n          toast({\n            status: \"success\",\n            title: \"Put in orbit\",\n            description: `Fleet ${fleet.id} has been put in orbit`,\n          });\n        } catch (err: any) {\n          toast({ status: \"error\", title: \"Error\", description: `Failed putting in orbit: ${err.message}` });\n        }\n      });\n    },\n    [contract, fetchPlanetFleets, open, toast]\n  );\n\n  const land = useCallback(\n    async (fleet: Fleet) => {\n      if (!contract) return;\n      open(async () => {\n        try {\n          const result = await contract.land(fleet.id);\n          await result.wait();\n          await fetchPlanetFleets(fleet.fromPlanet?.id);\n          toast({\n            status: \"success\",\n            title: \"Landing\",\n            description: `Fleet ${fleet.id} has landed`,\n          });\n        } catch (err: any) {\n          toast({ status: \"error\", title: \"Error\", description: `Failed landing: ${err.message}` });\n        }\n      });\n    },\n    [contract, fetchPlanetFleets, open, toast]\n  );\n\n  return {\n    fleets,\n    create,\n    move,\n    addToFleet,\n    removeFromFleet,\n    putInOrbit,\n    land,\n  };\n};\n\nexport default useFleets;\n","import { Button, Divider, Flex, HStack, Input, Select, Stack, Text, useColorModeValue } from \"@chakra-ui/react\";\nimport { ethers } from \"ethers\";\nimport React, { useState } from \"react\";\nimport ResourceBadge from \"../../../components/ResourceBadge\";\nimport ShipStatBadge from \"../../../components/ShipStatBadge\";\n\nimport { Fleet, FleetStatus, Ship } from \"../../../contexts/Sanctis/types\";\nimport useApprovedObjects from \"../../../hooks/useApprovedObjects\";\nimport useFleets from \"../../../hooks/useFleets\";\nimport useSanctis from \"../../../hooks/useSanctis\";\nimport useShip from \"../../../hooks/useShip\";\n\nconst FleetCard: React.FC<{ fleet: Fleet }> = ({ fleet }) => {\n  const { ships } = useApprovedObjects();\n  const { currentCommander } = useSanctis();\n  const { ships: approvedShips, resources } = useApprovedObjects();\n  const { move, addToFleet, removeFromFleet, putInOrbit, land } = useFleets();\n  const [choice, setChoice] = useState<Ship>(ships[0]);\n  const [removeChoice, setRemoveChoice] = useState<Ship>(ships[0]);\n  const [quantity, setQuantity] = useState<number>();\n  const [removeQuantity, setRemoveQuantity] = useState<number>();\n  const { ship } = useShip(choice, fleet.fromPlanet);\n\n  console.log(ship, fleet);\n\n  return (\n    <Stack spacing={3} background={useColorModeValue(\"white\", \"gray.800\")} p=\"5\" rounded=\"xl\" shadow={\"xl\"} minW={80}>\n      <Text fontWeight=\"bold\" fontSize=\"md\" textAlign=\"start\">\n        Fleet ID: {fleet.id}\n      </Text>\n      <Text textAlign=\"start\">Controller: {fleet.commander.toString()}</Text>\n      <Text textAlign=\"start\">Status: {fleet.status}</Text>\n      <Text textAlign=\"start\">Fleet's statistics:</Text>\n      <Flex w=\"100%\">\n        <ShipStatBadge type=\"speed\" amount={fleet.totalSpeed.toNumber()} />\n        <ShipStatBadge type=\"offense\" amount={fleet.totalOffensivePower.toNumber()} />\n        <ShipStatBadge type=\"defense\" amount={fleet.totalDefensivePower.toNumber()} />\n        <ShipStatBadge type=\"capacity\" amount={Number(ethers.utils.formatEther(fleet.capacity || 0))} />\n      </Flex>\n      {Object.values(fleet.resources).filter((e) => e.gt(0)).length > 0 && (\n        <Stack>\n          <Text textAlign=\"start\">Fleet's resources:</Text>\n          <Flex w=\"100%\">\n            {Object.entries(fleet.resources)\n              .filter(([, amount]) => amount.gt(0))\n              .map(([address, amount]) => (\n                <ResourceBadge resource={resources.find((e) => e.address === address)!} amount={amount} />\n              ))}\n          </Flex>\n        </Stack>\n      )}\n      {fleet.commander.toString() === currentCommander?.id && (\n        <>\n          <Divider />\n          <Stack spacing={2} justify={\"center\"}>\n            {fleet.status === FleetStatus.Preparing && (\n              <>\n                <Stack spacing={1} rounded=\"xl\" p=\"2\" border=\"solid\">\n                  <Text>Add ships to the fleet</Text>\n                  <Select onChange={(e) => setChoice(JSON.parse(e.target.value))}>\n                    {ships\n                      .filter((e) => (e.reserve || 0) > 0)\n                      .map((ship) => (\n                        <option key={ship.name} value={JSON.stringify(ship)}>\n                          {ship.name}\n                        </option>\n                      ))}\n                  </Select>\n                  <Input\n                    type=\"number\"\n                    max={ship.reserve}\n                    value={quantity || 0}\n                    onChange={(e) => setQuantity(Math.min(Number(e.target.value), ship.reserve || 0))}\n                  />\n                  <Button disabled={!quantity} onClick={() => addToFleet(fleet, choice, quantity!)}>\n                    Add to fleet\n                  </Button>\n                </Stack>\n                <Stack spacing={1} rounded=\"xl\" p=\"2\" border=\"solid\">\n                  <Text>Remove ships from the fleet</Text>\n                  <Select onChange={(e) => setRemoveChoice(JSON.parse(e.target.value))}>\n                    {approvedShips\n                      .filter((e) => fleet.shipsInFleet[e.address] > 0)\n                      .map((ship) => (\n                        <option key={ship.name} value={JSON.stringify(ship)}>\n                          {ship.name}\n                        </option>\n                      ))}\n                  </Select>\n                  <Input\n                    type=\"number\"\n                    max={ship.reserve}\n                    value={removeQuantity || 0}\n                    onChange={(e) =>\n                      setRemoveQuantity(Math.min(Number(e.target.value), fleet.shipsInFleet[removeChoice.address] || 0))\n                    }\n                  />\n                  <Button disabled={!removeQuantity} onClick={() => removeFromFleet(fleet, removeChoice, quantity!)}>\n                    Remove from fleet\n                  </Button>\n                </Stack>\n                <Button rounded={\"full\"} px={6} colorScheme={\"blue\"} onClick={() => putInOrbit(fleet)}>\n                  Put in orbit\n                </Button>\n              </>\n            )}\n            {fleet.status === FleetStatus.Orbitting && (\n              <>\n                <Button rounded={\"full\"} px={6} colorScheme={\"blue\"} onClick={() => land(fleet)}>\n                  Land\n                </Button>\n                <Stack p={3} border=\"solid\" rounded=\"xl\">\n                  <Text>Send the fleet to another planet</Text>\n                  <HStack spacing={1} justify=\"center\">\n                    <Input placeholder=\"X...\" maxW={20} />\n                    <Input placeholder=\"Y...\" maxW={20} />\n                    <Input placeholder=\"Z...\" maxW={20} />\n                  </HStack>\n                  <Button rounded={\"full\"} px={6} colorScheme={\"blue\"} onClick={() => move(fleet, fleet.toPlanet!)}>\n                    Move\n                  </Button>\n                </Stack>\n              </>\n            )}\n          </Stack>\n        </>\n      )}\n    </Stack>\n  );\n};\n\nexport default FleetCard;\n","import {\n  AccordionButton,\n  AccordionIcon,\n  AccordionItem,\n  AccordionPanel,\n  Button,\n  Divider,\n  Flex,\n  Text,\n  useColorModeValue,\n  Wrap,\n} from \"@chakra-ui/react\";\nimport React from \"react\";\nimport { Planet } from \"../../contexts/Sanctis/types\";\n\nimport useFleets from \"../../hooks/useFleets\";\nimport useSanctis from \"../../hooks/useSanctis\";\nimport FleetCard from \"./fleets/FleetCard\";\n\nconst FleetsSection: React.FC<{ planet: Planet }> = ({ planet }) => {\n  const { currentCommander } = useSanctis();\n  const { fleets, create } = useFleets(planet?.id);\n\n  return (\n    <AccordionItem w=\"100%\">\n      <Flex\n        direction={\"column\"}\n        textAlign={\"center\"}\n        align={\"center\"}\n        bg={useColorModeValue(\"gray.300\", \"gray.700\")}\n        m={2}\n        p={3}\n        rounded=\"lg\"\n        shadow=\"2xl\"\n        boxShadow=\"inner\"\n      >\n        <AccordionButton justifyContent=\"center\">\n          <Text margin=\"auto\" fontSize=\"xl\" fontWeight=\"bold\" mb=\"3\">\n            Planet's fleets\n          </Text>\n          <AccordionIcon />\n        </AccordionButton>\n        <AccordionPanel>\n          <Wrap justify={\"center\"} m={2}>\n            {fleets && fleets.length > 0 ? (\n              fleets.map((fleet) => <FleetCard key={fleet.id} fleet={fleet} />)\n            ) : (\n              <Text>There are no fleets on this planet</Text>\n            )}\n          </Wrap>\n          {currentCommander && currentCommander?.id === planet.ruler && (\n            <>\n              <Divider mt={7} w=\"100%\" />\n              <Flex justify={\"center\"} mt={5}>\n                <Button onClick={() => create(currentCommander, planet.id)}>Create a new fleet</Button>\n              </Flex>\n            </>\n          )}\n        </AccordionPanel>\n      </Flex>\n    </AccordionItem>\n  );\n};\n\nexport default FleetsSection;\n","import { Accordion, Button, Container, Link, useColorModeValue } from \"@chakra-ui/react\";\nimport usePlanet from \"hooks/usePlanet\";\nimport React from \"react\";\nimport { BiArrowBack } from \"react-icons/bi\";\nimport { useParams } from \"react-router-dom\";\n\nimport ReservesSection from \"./ReservesSection\";\nimport InfrastructuresSection from \"./InfrastructuresSection\";\nimport FleetsSection from \"./FleetsSection\";\n\nconst Planet: React.FC = () => {\n  const { id } = useParams();\n  const planet = usePlanet(id);\n\n  const sections = planet ? (\n    <>\n      <ReservesSection planet={planet} />\n      <InfrastructuresSection planet={planet} />\n      <FleetsSection planet={planet} />\n    </>\n  ) : null;\n\n  return (\n    <Container maxW={\"5xl\"}>\n      <Button\n        rightIcon={<BiArrowBack />}\n        as={Link}\n        href={planet ? `#/commander/` + planet?.ruler : \"#/commanders\"}\n        bg={useColorModeValue(\"gray.300\", \"gray.700\")}\n        mb={3}\n      >\n        Back\n      </Button>\n      <Accordion allowMultiple allowToggle>\n        {sections}\n      </Accordion>\n    </Container>\n  );\n};\n\nexport default Planet;\n","import React from \"react\";\nimport {\n  Box,\n  Button,\n  Container,\n  Link,\n  List,\n  ListItem,\n  Spinner,\n  Stack,\n  Text,\n  useColorModeValue,\n} from \"@chakra-ui/react\";\n\nimport { planetIdToCoordinate } from \"utils\";\nimport useSanctis from \"../../hooks/useSanctis\";\nimport { Commander } from \"../../contexts/Sanctis/types\";\n\nconst CommanderCard: React.FC<{ commander: Commander }> = ({ commander }) => {\n  const { currentCommander, setCurrentCommander } = useSanctis();\n\n  return (\n    <Container maxW={\"5xl\"}>\n      <Stack spacing={6} background={useColorModeValue(\"white\", \"gray.800\")} p=\"5\" rounded=\"xl\">\n        {commander ? (\n          <Box alignContent={\"flex-start\"}>\n            <Text fontWeight=\"bold\" fontSize=\"2xl\">\n              {commander.name}\n            </Text>\n            <Text fontWeight=\"bold\" fontSize=\"lg\">\n              {commander.race?.name}\n            </Text>\n            <Box textAlign={\"start\"}>\n              {!commander.planets || commander.planets.length === 0 ? (\n                <Text my=\"3\">This commander has no planet</Text>\n              ) : (\n                <>\n                  <Text fontSize=\"xl\">Planets:</Text>\n                  <List>\n                    {commander.planets.map((planet, i) => (\n                      <ListItem key={planet + i}>\n                        <Link href={`/planet/${planet}`}>{planetIdToCoordinate(planet)}</Link>\n                      </ListItem>\n                    ))}\n                  </List>\n                </>\n              )}\n            </Box>\n            <Button\n              rounded={\"full\"}\n              m={4}\n              px={6}\n              colorScheme={\"blue\"}\n              bg={\"blue.400\"}\n              _hover={{ bg: \"blue.500\" }}\n              as={Link}\n              href={`#/commander/${commander.id}`}\n              onClick={() => setCurrentCommander(commander)}\n            >\n              {currentCommander?.name !== commander.name\n                ? `Play as ${commander.name}`\n                : `Already playing ${commander.name}`}\n            </Button>\n          </Box>\n        ) : (\n          <Spinner thickness=\"4px\" speed=\"0.65s\" emptyColor=\"gray.200\" color=\"blue.500\" size=\"xl\" />\n        )}\n      </Stack>\n    </Container>\n  );\n};\n\nexport default CommanderCard;\n","import React, { ChangeEvent, useCallback, useState } from \"react\";\nimport { Button, Input, Select, Stack, Text, useColorModeValue } from \"@chakra-ui/react\";\n\nimport { Race } from \"../../contexts/Sanctis/types\";\nimport useCommanders from \"../../hooks/useSanctis\";\nimport useApprovedObjects from \"hooks/useApprovedObjects\";\n\nconst CreateCommanderCard: React.FC = () => {\n  const { races } = useApprovedObjects()\n  const { createCommander } = useCommanders()\n  const [name, setName] = useState<string>()\n  const [race, setRace] = useState<Race>(races[0])\n\n  const handleSelect = useCallback((e: ChangeEvent<HTMLSelectElement>) => {\n    setRace(JSON.parse(e.target.value))\n  }, [setRace])\n\n  const handleName = useCallback((e: ChangeEvent<HTMLInputElement>) => {\n    setName(e.target.value)\n  }, [setName])\n\n  const handleCreate = useCallback(async () => {\n    if (!race || !name) return\n\n    await createCommander(name, race)\n  }, [race, name, createCommander])\n\n  return (\n    <Stack spacing={6} background={useColorModeValue('white', 'gray.800')} p=\"5\" rounded=\"xl\">\n      <Text fontWeight=\"bold\" fontSize=\"xl\">Create a Commander</Text>\n      <Input placeholder=\"Commander's name\" onChange={handleName} />\n      <Select onChange={handleSelect}>\n        {races.map((race) => <option key={race.name} value={JSON.stringify(race)}>{race.name}</option>)}\n      </Select>\n      <Button\n        rounded={\"full\"}\n        px={6}\n        colorScheme={\"blue\"}\n        bg={\"blue.400\"}\n        _hover={{ bg: \"blue.500\" }}\n        disabled={!name || !!name.match(/[^A-Za-z0-9 ]/) }\n        onClick={handleCreate}\n      >\n        Create commander\n      </Button>\n    </Stack>\n  );\n};\n\nexport default CreateCommanderCard;\n","import { Box, Container, Stack, useColorModeValue, Wrap, WrapItem } from \"@chakra-ui/react\";\nimport React from \"react\";\n\nimport useCommanders from \"../../hooks/useSanctis\";\nimport CommanderCard from \"./CommanderCard\";\nimport CreateCommanderCard from \"./CreateCommanderCard\";\n\nconst Commanders: React.FC = () => {\n  const { ownedCommanders } = useCommanders();\n\n  return (\n    <Container maxW={\"5xl\"}>\n      <Stack textAlign={\"center\"} align={\"center\"} spacing={{ base: 8, md: 10 }}>\n        {ownedCommanders && ownedCommanders.length > 0 && (\n          <Wrap>\n            {ownedCommanders.map((commander, i) => (\n              <WrapItem key={`${commander.id}-${i}`}>\n                <CommanderCard commander={commander} />\n              </WrapItem>\n            ))}\n          </Wrap>\n        )}\n        <Box background={useColorModeValue(\"white\", \"gray.800\")} p=\"3\" rounded=\"xl\">\n          A commander is free to create and you can have as many as you want. However, the game is designed to encourage\n          players to have few commanders with a big empire rather than many commanders with smaller empires.\n        </Box>\n        <CreateCommanderCard />\n      </Stack>\n    </Container>\n  );\n};\n\nexport default Commanders;\n","import { useWallet } from '@binance-chain/bsc-use-wallet'\nimport { ExternalProvider } from '@ethersproject/providers'\nimport { BigNumber, Contract, providers, utils } from 'ethers'\nimport { useCallback, useEffect, useMemo, useState } from 'react'\n\nimport ERC20ABI from '../constants/contracts/IERC20.sol/IERC20.json'\nimport useConfirmationModal from './useConfirmationModal'\n\nconst useApproval = (tokenAddress: string, spenderAddress?: string) => {\n  const { open } = useConfirmationModal();\n  const { account, ethereum } = useWallet<ExternalProvider>();\n\n  const contract = useMemo(() => {\n    if (!ethereum) return;\n    const ERC20Interface = new utils.Interface(ERC20ABI.abi);\n    return new Contract(tokenAddress, ERC20Interface, new providers.Web3Provider(ethereum).getSigner());\n  }, [ethereum, tokenAddress]);\n\n  const [allowance, setAllowance] = useState<BigNumber>();\n  const [isApproving, setIsApproving] = useState(false);\n  const [isApproved, setIsApproved] = useState(false);\n\n  const handleApprove = useCallback(() => {\n    if (!ethereum || !account || !spenderAddress || !contract) return;\n    open(async () => {\n      try {\n        setIsApproving(true);\n        const result = await contract.approve(spenderAddress, BigNumber.from(2).pow(256).sub(1));\n        await result.wait();\n        setIsApproved(true);\n        setIsApproving(false);\n      } catch (e) {\n        console.log(e);\n        setIsApproving(false);\n      }\n    });\n  }, [account, contract, ethereum, open, setIsApproved, setIsApproving, spenderAddress]);\n\n  const fetchAllowance = useCallback(async () => {\n    if (!contract || !spenderAddress || !account) return;\n    setAllowance(await contract.allowance(account, spenderAddress));\n  }, [contract, account, spenderAddress]);\n\n  useEffect(() => {\n    fetchAllowance();\n  }, [fetchAllowance]);\n\n  useEffect(() => {\n    if (allowance && allowance.gt(0)) {\n      setIsApproved(true);\n    }\n  }, [allowance, setIsApproved]);\n\n  return {\n    allowance,\n    isApproved,\n    isApproving,\n    onApprove: handleApprove,\n  };\n};\n\nexport default useApproval;\n","import { Button, Input, Stack, Text, useColorModeValue } from \"@chakra-ui/react\";\nimport useChainPicker from \"hooks/useChainPicker\";\nimport React, { useState } from \"react\";\n\nimport deployedAddresses from \"../../constants\";\nimport { Commander } from \"../../contexts/Sanctis/types\";\nimport useApproval from \"../../hooks/useApproval\";\nimport useSanctis from \"../../hooks/useSanctis\";\n\nconst ColonizeCard: React.FC<{ colonizer: Commander }> = ({ colonizer }) => {\n  const { chainId } = useChainPicker();\n  const { colonizationCost, colonizePlanet } = useSanctis();\n  const { isApproved, isApproving, onApprove } = useApproval(\n    deployedAddresses[chainId].credits,\n    deployedAddresses[chainId].planets\n  );\n  const [x, setX] = useState<number>();\n  const [y, setY] = useState<number>();\n  const [z, setZ] = useState<number>();\n\n  return (\n    <Stack textAlign={\"center\"} align={\"center\"} m={5} spacing={{ base: 8, md: 10 }}>\n      <Stack spacing={6} background={useColorModeValue(\"white\", \"gray.800\")} p=\"5\" rounded=\"xl\">\n        <Text fontWeight=\"bold\" fontSize=\"xl\">\n          Colonize a planet\n        </Text>\n        <Input type=\"number\" placeholder=\"X coordinate...\" onChange={(e) => setX(Number(e.target.value))} />\n        <Input type=\"number\" placeholder=\"Y coordinate...\" onChange={(e) => setY(Number(e.target.value))} />\n        <Input type=\"number\" placeholder=\"Z coordinate...\" onChange={(e) => setZ(Number(e.target.value))} />\n        {isApproved ? (\n          <Button\n            rounded={\"full\"}\n            px={6}\n            colorScheme={\"blue\"}\n            bg={\"blue.400\"}\n            _hover={{ bg: \"blue.500\" }}\n            disabled={x === undefined || y === undefined || z === undefined}\n            onClick={() => colonizePlanet(colonizer, x || 0, y || 0, z || 0)}\n          >\n            Colonize for {colonizationCost ? colonizationCost.div(10 ** 12).toNumber() / 10 ** 6 : \"??\"} $CREDS\n          </Button>\n        ) : (\n          <Button\n            rounded={\"full\"}\n            px={6}\n            colorScheme={\"blue\"}\n            bg={\"blue.400\"}\n            _hover={{ bg: \"blue.500\" }}\n            isLoading={isApproving}\n            onClick={() => onApprove()}\n          >\n            Approve\n          </Button>\n        )}\n      </Stack>\n    </Stack>\n  );\n};\n\nexport default ColonizeCard;\n","import { Button, Link, Spinner, Stack, Text, useColorModeValue } from \"@chakra-ui/react\";\nimport usePlanet from \"hooks/usePlanet\";\nimport React from \"react\";\n\nconst PlanetCard: React.FC<{ planetId: string }> = ({ planetId }) => {\n  const planet = usePlanet(planetId);\n  return (\n    <Stack spacing={6} background={useColorModeValue(\"white\", \"gray.800\")} p=\"5\" rounded=\"xl\">\n      {planet ? (\n        <>\n          <Text fontWeight=\"bold\" fontSize=\"xl\">{`Coordinate: (X=${planet.x}; Y=${planet.y}; Z=${planet.z})`}</Text>\n          <Text fontSize=\"md\">Humidity: {planet.humidity}</Text>\n          <Button\n            rounded={\"full\"}\n            px={6}\n            colorScheme={\"blue\"}\n            bg={\"blue.400\"}\n            _hover={{ bg: \"blue.500\" }}\n            as={Link}\n            href={`#/planet/${planet.id}`}\n          >\n            Details\n          </Button>\n        </>\n      ) : (\n        <Spinner />\n      )}\n    </Stack>\n  );\n};\n\nexport default PlanetCard;\n","import { Button, Container, Flex, Link, Text, useColorModeValue, Wrap, WrapItem } from \"@chakra-ui/react\";\nimport useCommander from \"hooks/useCommander\";\nimport React from \"react\";\nimport { BiArrowBack } from \"react-icons/bi\";\nimport { useParams } from \"react-router-dom\";\n\nimport ColonizeCard from \"./ColonizeCard\";\nimport PlanetCard from \"./PlanetCard\";\n\nconst Commander: React.FC = () => {\n  const { id } = useParams();\n  const commander = useCommander(id);\n\n  return (\n    <Container maxW={\"5xl\"}>\n      <Button rightIcon={<BiArrowBack />} as={Link} href={\"#/commanders\"}>\n        Back\n      </Button>\n      <Flex\n        direction={\"column\"}\n        textAlign={\"center\"}\n        align={\"center\"}\n        bg={useColorModeValue(\"gray.300\", \"gray.700\")}\n        mt={2}\n        p={3}\n        rounded=\"lg\"\n        shadow=\"2xl\"\n        boxShadow=\"inner\"\n      >\n        <Text fontSize=\"lg\" fontWeight=\"bold\">\n          {commander?.name}'s planets\n        </Text>\n        <Wrap spacing={5} mt=\"2\">\n          {commander?.planets?.map((e) => (\n            <WrapItem key={e} shadow=\"xl\">\n              <PlanetCard planetId={e} />\n            </WrapItem>\n          ))}\n        </Wrap>\n      </Flex>\n      {commander && <ColonizeCard colonizer={commander} />}\n    </Container>\n  );\n};\n\nexport default Commander;\n","import { Commander } from \"contexts/Sanctis/types\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport useSanctis from \"./useSanctis\";\n\nexport default function useCommander(id?: string) {\n  const { commanders, fetchCommander } = useSanctis();\n  const [commander, setCommander] = useState<Commander | null>();\n\n  const fetch = useCallback(async () => {\n    if (!id) {\n      return;\n    } else if (!commanders[id]) {\n      setCommander(await fetchCommander(id));\n    } else {\n      setCommander(commanders[id]);\n    }\n  }, [commanders, id, fetchCommander]);\n\n  useEffect(() => {\n    fetch();\n  }, [fetch]);\n\n  return commander;\n}\n","import React from \"react\";\nimport { Container, Heading, Link, List, ListItem, Stack, useColorModeValue } from \"@chakra-ui/react\";\n\nconst Documentation: React.FC = () => {\n  return (\n    <Container maxW={\"5xl\"}>\n      <Stack\n        background={useColorModeValue(\"white\", \"gray.800\")}\n        textAlign={\"center\"}\n        align={\"center\"}\n        spacing={{ base: 8, md: 10 }}\n        p=\"3\"\n        rounded=\"xl\"\n      >\n        <Heading>Documentation and resources</Heading>\n        <List>\n          <ListItem>\n            <Link href=\"https://docs.sanctis.xyz/\">Official documentation</Link>\n          </ListItem>\n          <ListItem>\n            <Link href=\"https://discord.gg/RzW8Eptb3g\">Discord</Link>\n          </ListItem>\n          <ListItem>\n            <Link href=\"https://github.com/Sanctis-Game\">Github</Link>\n          </ListItem>\n        </List>\n      </Stack>\n    </Container>\n  );\n};\n\nexport default Documentation;\n","import { Button, Container, Flex, Heading, Stack, Text, useColorModeValue, Wrap, WrapItem } from \"@chakra-ui/react\";\nimport React from \"react\";\nimport useSanctis from \"../hooks/useSanctis\";\n\nimport ColonizeCard from \"./Commander/ColonizeCard\";\nimport PlanetCard from \"./Commander/PlanetCard\";\n\nconst Planets: React.FC = () => {\n  const { currentCommander } = useSanctis();\n\n  return (\n    <Container maxW={\"5xl\"}>\n      <Flex\n        direction={\"column\"}\n        textAlign={\"center\"}\n        align={\"center\"}\n        bg={useColorModeValue(\"gray.300\", \"gray.700\")}\n        mt={2}\n        p={3}\n        rounded=\"lg\"\n        shadow=\"2xl\"\n        boxShadow=\"inner\"\n      >\n        {currentCommander ? (\n          <>\n            <Text fontSize=\"lg\" fontWeight=\"bold\">\n              {currentCommander?.name}'s planets\n            </Text>\n            <Wrap spacing={5} mt=\"2\">\n              {currentCommander?.planets?.map((e) => (\n                <WrapItem key={e} shadow=\"xl\">\n                  <PlanetCard planetId={e} />\n                </WrapItem>\n              ))}\n            </Wrap>\n          </>\n        ) : (\n          <Stack spacing={6} p={3}>\n            <Heading>You have not chosen a commander</Heading>\n            <Button>Choose a summoner</Button>\n          </Stack>\n        )}\n      </Flex>\n      {currentCommander && <ColonizeCard colonizer={currentCommander} />}\n    </Container>\n  );\n};\n\nexport default Planets;\n","import { Container, Text } from \"@chakra-ui/react\";\nimport React from \"react\";\n\nconst Fleets: React.FC = () => {\n  return (\n    <Container maxW={\"5xl\"}>\n      <Text fontSize={\"3xl\"}>This section is under construction</Text>\n    </Container>\n  );\n};\n\nexport default Fleets;\n","import React from \"react\";\nimport { Route, HashRouter as Router, Routes } from \"react-router-dom\";\nimport { ChakraProvider } from \"@chakra-ui/react\";\nimport { UseWalletProvider } from \"@binance-chain/bsc-use-wallet\";\n\nimport Sidebar from \"./components/Sidebar\";\nimport Home from \"./views/Home\";\nimport Planet from \"./views/Planet\";\nimport useChainPicker from \"./hooks/useChainPicker\";\nimport ChainPickerProvider from \"./contexts/ChainPicker\";\nimport ConfirmationModalProvider from \"./contexts/ConfirmationModal\";\nimport SanctisProvider from \"./contexts/Sanctis\";\nimport Commanders from \"views/Commanders\";\nimport Commander from \"views/Commander\";\nimport Documentation from \"./views/Documentation\";\nimport Planets from \"./views/Planets\";\nimport Fleets from \"./views/Fleets\";\n\nconst WalletProvider: React.FC = ({ children }) => {\n  const { chainId } = useChainPicker();\n\n  return <UseWalletProvider chainId={chainId}>{children}</UseWalletProvider>;\n};\n\nconst Providers: React.FC = ({ children }) => {\n  return (\n    <ChakraProvider>\n      <ChainPickerProvider>\n        <WalletProvider>\n          <ConfirmationModalProvider>\n            <SanctisProvider>{children}</SanctisProvider>\n          </ConfirmationModalProvider>\n        </WalletProvider>\n      </ChainPickerProvider>\n    </ChakraProvider>\n  );\n};\n\nfunction App() {\n  return (\n    <Providers>\n      <Sidebar>\n        <Router>\n          <Routes>\n            <Route path=\"/\" element={<Home />} />\n            <Route path=\"/commanders\" element={<Commanders />} />\n            <Route path=\"/commander/:id\" element={<Commander />} />\n            <Route path=\"/planet/:id\" element={<Planet />} />\n            <Route path=\"/planets\" element={<Planets />} />\n            <Route path=\"/fleets\" element={<Fleets />} />\n            <Route path=\"/documentation\" element={<Documentation />} />\n          </Routes>\n        </Router>\n      </Sidebar>\n    </Providers>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}